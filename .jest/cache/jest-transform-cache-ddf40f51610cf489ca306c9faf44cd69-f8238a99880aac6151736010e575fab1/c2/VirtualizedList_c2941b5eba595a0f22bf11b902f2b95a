31199af03ca16540a69b72712d2dc46c
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var React = _interopRequireWildcard(require("react"));

var _VirtualizedListContext = require("./VirtualizedListContext.js");

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var Batchinator = require("../Interaction/Batchinator");

var FillRateHelper = require("./FillRateHelper");

var ReactNative = require("../Renderer/shims/ReactNative");

var RefreshControl = require("../Components/RefreshControl/RefreshControl");

var ScrollView = require("../Components/ScrollView/ScrollView");

var StyleSheet = require("../StyleSheet/StyleSheet");

var View = require("../Components/View/View");

var ViewabilityHelper = require("./ViewabilityHelper");

var flattenStyle = require("../StyleSheet/flattenStyle");

var infoLog = require("../Utilities/infoLog");

var invariant = require('invariant');

var _require = require("./VirtualizeUtils"),
    computeWindowedRenderLimits = _require.computeWindowedRenderLimits;

var _usedIndexForKey = false;
var _keylessItemComponentName = '';

var VirtualizedList = function (_React$PureComponent) {
  (0, _inherits2.default)(VirtualizedList, _React$PureComponent);

  var _super = _createSuper(VirtualizedList);

  function VirtualizedList(_props) {
    var _this;

    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _super.call(this, _props);

    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };

    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return (0, _assertThisInitialized2.default)(_this);
      }
    };

    _this._getNestedChildState = function (key) {
      var existingChildData = _this._nestedChildLists.get(key);

      return existingChildData && existingChildData.state;
    };

    _this._registerAsNestedChild = function (childList) {
      var childListsInCell = _this._cellKeysToChildListKeys.get(childList.cellKey) || new Set();
      childListsInCell.add(childList.key);

      _this._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);

      var existingChildData = _this._nestedChildLists.get(childList.key);

      if (existingChildData && existingChildData.ref !== null) {
        console.error('A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.\n\n' + describeNestedLists(_objectSpread(_objectSpread({}, childList), {}, {
          horizontal: !!childList.ref.props.horizontal
        })));
      }

      _this._nestedChildLists.set(childList.key, {
        ref: childList.ref,
        state: null
      });

      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };

    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.set(childList.key, {
        ref: null,
        state: childList.state
      });
    };

    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };

    _this._averageCellLength = 0;
    _this._cellKeysToChildListKeys = new Map();
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasDoneInitialScroll = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._nestedChildLists = new Map();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0
    };
    _this._scrollRef = null;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];

    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };

    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;

      if (_this._isNestedWithSameOrientation()) {
        return React.createElement(View, props);
      } else if (onRefresh) {
        invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');
        return React.createElement(ScrollView, (0, _extends2.default)({}, props, {
          refreshControl: props.refreshControl == null ? React.createElement(RefreshControl, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return React.createElement(ScrollView, props);
      }
    };

    _this._onCellUnmount = function (cellKey) {
      var curr = _this._frames[cellKey];

      if (curr) {
        _this._frames[cellKey] = _objectSpread(_objectSpread({}, curr), {}, {
          inLayout: false
        });
      }
    };

    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }

      _this.props.onLayout && _this.props.onLayout(e);

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    };

    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };

    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());

      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };

    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };

    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasDoneInitialScroll) {
        if (_this.props.contentOffset == null) {
          _this.scrollToIndex({
            animated: false,
            index: _this.props.initialScrollIndex
          });
        }

        _this._hasDoneInitialScroll = true;
      }

      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }

      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });

      _this._scheduleCellsToRenderUpdate();

      _this._maybeCallOnEndReached();
    };

    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };

    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScroll(e);
      });

      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }

      var timestamp = e.timeStamp;

      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);

      var contentLength = _this._selectLength(e.nativeEvent.contentSize);

      var offset = _this._selectOffset(e.nativeEvent.contentOffset);

      var dOffset = offset - _this._scrollMetrics.offset;

      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }

        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });

        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }

      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;

      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }

      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength
      };

      _this._updateViewableItems(_this.props.data);

      if (!_this.props) {
        return;
      }

      _this._maybeCallOnEndReached();

      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }

      _this._computeBlankness();

      _this._scheduleCellsToRenderUpdate();
    };

    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollBeginDrag(e);
      });

      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });

      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };

    _this._onScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;

      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }

      _this._computeBlankness();

      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };

    _this._onMomentumScrollEnd = function (e) {
      _this._scrollMetrics.velocity = 0;

      _this._computeBlankness();

      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };

    _this._updateCellsToRender = function () {
      var _this$props = _this.props,
          data = _this$props.data,
          getItemCount = _this$props.getItemCount,
          onEndReachedThreshold = _this$props.onEndReachedThreshold;

      var isVirtualizationDisabled = _this._isVirtualizationDisabled();

      _this._updateViewableItems(data);

      if (!data) {
        return;
      }

      _this.setState(function (state) {
        var newState;
        var _this$_scrollMetrics = _this._scrollMetrics,
            contentLength = _this$_scrollMetrics.contentLength,
            offset = _this$_scrollMetrics.offset,
            visibleLength = _this$_scrollMetrics.visibleLength;

        if (!isVirtualizationDisabled) {
          if (visibleLength > 0 && contentLength > 0) {
            if (!_this.props.initialScrollIndex || _this._scrollMetrics.offset) {
              newState = computeWindowedRenderLimits(_this.props, state, _this._getFrameMetricsApprox, _this._scrollMetrics);
            }
          }
        } else {
          var distanceFromEnd = contentLength - visibleLength - offset;
          var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? _this.props.maxToRenderPerBatch : 0;
          newState = {
            first: 0,
            last: Math.min(state.last + renderAhead, getItemCount(data) - 1)
          };
        }

        if (newState && _this._nestedChildLists.size > 0) {
          var newFirst = newState.first;
          var newLast = newState.last;

          for (var ii = newFirst; ii <= newLast; ii++) {
            var cellKeyForIndex = _this._indicesToKeys.get(ii);

            var childListKeys = cellKeyForIndex && _this._cellKeysToChildListKeys.get(cellKeyForIndex);

            if (!childListKeys) {
              continue;
            }

            var someChildHasMore = false;

            for (var _iterator = _createForOfIteratorHelperLoose(childListKeys), _step; !(_step = _iterator()).done;) {
              var childKey = _step.value;

              var childList = _this._nestedChildLists.get(childKey);

              if (childList && childList.ref && childList.ref.hasMore()) {
                someChildHasMore = true;
                break;
              }
            }

            if (someChildHasMore) {
              newState.last = ii;
              break;
            }
          }
        }

        if (newState != null && newState.first === state.first && newState.last === state.last) {
          newState = null;
        }

        return newState;
      });
    };

    _this._createViewToken = function (index, isViewable) {
      var _this$props2 = _this.props,
          data = _this$props2.data,
          getItem = _this$props2.getItem,
          keyExtractor = _this$props2.keyExtractor;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: keyExtractor(item, index),
        isViewable: isViewable
      };
    };

    _this._getFrameMetricsApprox = function (index) {
      var frame = _this._getFrameMetrics(index);

      if (frame && frame.index === index) {
        return frame;
      } else {
        var getItemLayout = _this.props.getItemLayout;
        invariant(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };

    _this._getFrameMetrics = function (index) {
      var _this$props3 = _this.props,
          data = _this$props3.data,
          getItem = _this$props3.getItem,
          getItemCount = _this$props3.getItemCount,
          getItemLayout = _this$props3.getItemLayout,
          keyExtractor = _this$props3.keyExtractor;
      invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);
      var item = getItem(data, index);

      var frame = item && _this._frames[keyExtractor(item, index)];

      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          frame = getItemLayout(data, index);
        }
      }

      return frame;
    };

    invariant(!_props.onScroll || !_props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
    invariant(_props.windowSize > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
    _this._fillRateHelper = new FillRateHelper(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new Batchinator(_this._updateCellsToRender, _this.props.updateCellsBatchingPeriod);

    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else if (_this.props.onViewableItemsChanged) {
      _this._viewabilityTuples.push({
        viewabilityHelper: new ViewabilityHelper(_this.props.viewabilityConfig),
        onViewableItemsChanged: _this.props.onViewableItemsChanged
      });
    }

    var initialState = {
      first: _this.props.initialScrollIndex || 0,
      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) - 1
    };

    if (_this._isNestedWithSameOrientation()) {
      var storedState = _this.context.getNestedChildState(_this._getListKey());

      if (storedState) {
        initialState = storedState;
        _this.state = storedState;
        _this._frames = storedState.frames;
      }
    }

    _this.state = initialState;
    return _this;
  }

  (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;

      var frame = this._getFrameMetricsApprox(veryLast);

      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);

      if (this._scrollRef == null) {
        return;
      }

      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }

      this._scrollRef.scrollTo(this.props.horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props4 = this.props,
          data = _this$props4.data,
          horizontal = _this$props4.horizontal,
          getItemCount = _this$props4.getItemCount,
          getItemLayout = _this$props4.getItemLayout,
          onScrollToIndexFailed = _this$props4.onScrollToIndexFailed;
      var animated = params.animated,
          index = params.index,
          viewOffset = params.viewOffset,
          viewPosition = params.viewPosition;
      invariant(index >= 0, "scrollToIndex out of range: requested index " + index + " but minimum is 0");
      invariant(getItemCount(data) >= 1, "scrollToIndex out of range: item length " + getItemCount(data) + " but minimum is 1");
      invariant(index < getItemCount(data), "scrollToIndex out of range: requested index " + index + " is out of 0 to " + (getItemCount(data) - 1));

      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        invariant(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index
        });
        return;
      }

      var frame = this._getFrameMetricsApprox(index);

      var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);

      if (this._scrollRef == null) {
        return;
      }

      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }

      this._scrollRef.scrollTo(horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props5 = this.props,
          data = _this$props5.data,
          getItem = _this$props5.getItem,
          getItemCount = _this$props5.getItemCount;
      var itemCount = getItemCount(data);

      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex(_objectSpread(_objectSpread({}, params), {}, {
            index: _index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
          offset = params.offset;

      if (this._scrollRef == null) {
        return;
      }

      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }

      this._scrollRef.scrollTo(this.props.horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref.recordInteraction();
      });

      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });

      this._updateViewableItems(this.props.data);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }

      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return ReactNative.findNodeHandle(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;

      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "_getListKey",
    value: function _getListKey() {
      return this.props.listKey || this._getCellKey();
    }
  }, {
    key: "_getDebugInfo",
    value: function _getDebugInfo() {
      var _this$context2;

      return {
        listKey: this._getListKey(),
        cellKey: this._getCellKey(),
        horizontal: !!this.props.horizontal,
        parent: (_this$context2 = this.context) == null ? void 0 : _this$context2.debugInfo
      };
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          cellKey: this._getCellKey(),
          key: this._getListKey(),
          ref: this,
          parentDebugInfo: this.context.debugInfo
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          key: this._getListKey(),
          state: {
            first: this.state.first,
            last: this.state.last,
            frames: this._frames
          }
        });
      }

      this._updateViewableItems(null);

      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });

      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;

      var _this$props6 = this.props,
          CellRendererComponent = _this$props6.CellRendererComponent,
          ItemSeparatorComponent = _this$props6.ItemSeparatorComponent,
          data = _this$props6.data,
          getItem = _this$props6.getItem,
          getItemCount = _this$props6.getItemCount,
          horizontal = _this$props6.horizontal,
          keyExtractor = _this$props6.keyExtractor;
      var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);

      var _loop = function _loop(ii) {
        var item = getItem(data, ii);
        var key = keyExtractor(item, ii);

        _this2._indicesToKeys.set(ii, key);

        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }

        cells.push(React.createElement(CellRenderer, {
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          cellKey: key,
          fillRateHelper: _this2._fillRateHelper,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          key: key,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onLayout: function onLayout(e) {
            return _this2._onCellLayout(e, key, ii);
          },
          onUnmount: _this2._onCellUnmount,
          parentProps: _this2.props,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          }
        }));
        prevCellKey = key;
      };

      for (var ii = first; ii <= last; ii++) {
        _loop(ii);
      }
    }
  }, {
    key: "_isVirtualizationDisabled",
    value: function _isVirtualizationDisabled() {
      return this.props.disableVirtualization || false;
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      if (__DEV__) {
        var flatStyles = flattenStyle(this.props.contentContainerStyle);

        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
        }
      }

      var _this$props7 = this.props,
          ListEmptyComponent = _this$props7.ListEmptyComponent,
          ListFooterComponent = _this$props7.ListFooterComponent,
          ListHeaderComponent = _this$props7.ListHeaderComponent;
      var _this$props8 = this.props,
          data = _this$props8.data,
          horizontal = _this$props8.horizontal;

      var isVirtualizationDisabled = this._isVirtualizationDisabled();

      var inversionStyle = this.props.inverted ? this.props.horizontal ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];

      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }

        var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : React.createElement(ListHeaderComponent, null);
        cells.push(React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          key: "$header"
        }, React.createElement(View, {
          onLayout: this._onLayoutHeader,
          style: StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle)
        }, element)));
      }

      var itemCount = this.props.getItemCount(data);

      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = !horizontal ? 'height' : 'width';
        var lastInitialIndex = this.props.initialScrollIndex ? -1 : this.props.initialNumToRender - 1;
        var _this$state = this.state,
            first = _this$state.first,
            last = _this$state.last;

        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);

        var firstAfterInitial = Math.max(lastInitialIndex + 1, first);

        if (!isVirtualizationDisabled && first > lastInitialIndex + 1) {
          var insertedStickySpacer = false;

          if (stickyIndicesFromProps.size > 0) {
            var stickyOffset = ListHeaderComponent ? 1 : 0;

            for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {
              if (stickyIndicesFromProps.has(ii + stickyOffset)) {
                var initBlock = this._getFrameMetricsApprox(lastInitialIndex);

                var stickyBlock = this._getFrameMetricsApprox(ii);

                var leadSpace = stickyBlock.offset - initBlock.offset - (this.props.initialScrollIndex ? 0 : initBlock.length);
                cells.push(React.createElement(View, {
                  key: "$sticky_lead",
                  style: (0, _defineProperty2.default)({}, spacerKey, leadSpace)
                }));

                this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);

                var trailSpace = this._getFrameMetricsApprox(first).offset - (stickyBlock.offset + stickyBlock.length);
                cells.push(React.createElement(View, {
                  key: "$sticky_trail",
                  style: (0, _defineProperty2.default)({}, spacerKey, trailSpace)
                }));
                insertedStickySpacer = true;
                break;
              }
            }
          }

          if (!insertedStickySpacer) {
            var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);

            var firstSpace = this._getFrameMetricsApprox(first).offset - (_initBlock.offset + _initBlock.length);

            cells.push(React.createElement(View, {
              key: "$lead_spacer",
              style: (0, _defineProperty2.default)({}, spacerKey, firstSpace)
            }));
          }
        }

        this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, last, inversionStyle);

        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }

        if (!isVirtualizationDisabled && last < itemCount - 1) {
          var lastFrame = this._getFrameMetricsApprox(last);

          var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);

          var endFrame = this._getFrameMetricsApprox(end);

          var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);
          cells.push(React.createElement(View, {
            key: "$tail_spacer",
            style: (0, _defineProperty2.default)({}, spacerKey, tailSpacerLength)
          }));
        }
      } else if (ListEmptyComponent) {
        var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : React.createElement(ListEmptyComponent, null);

        cells.push(React.cloneElement(_element, {
          key: '$empty',
          onLayout: function onLayout(event) {
            _this3._onLayoutEmpty(event);

            if (_element.props.onLayout) {
              _element.props.onLayout(event);
            }
          },
          style: StyleSheet.compose(inversionStyle, _element.props.style)
        }));
      }

      if (ListFooterComponent) {
        var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : React.createElement(ListFooterComponent, null);

        cells.push(React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          key: "$footer"
        }, React.createElement(View, {
          onLayout: this._onLayoutFooter,
          style: StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle)
        }, _element2)));
      }

      var scrollProps = _objectSpread(_objectSpread({}, this.props), {}, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: this.props.scrollEventThrottle,
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style
      });

      this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;
      var innerRet = React.createElement(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: this.props.horizontal,
          getOutermostParentListRef: this._getOutermostParentListRef,
          getNestedChildState: this._getNestedChildState,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild,
          debugInfo: this._getDebugInfo()
        }
      }, React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
        ref: this._captureScrollRef
      }, cells));
      var ret = innerRet;

      if (__DEV__) {
        ret = React.createElement(ScrollView.Context.Consumer, null, function (scrollContext) {
          if (scrollContext != null && !scrollContext.horizontal === !_this3.props.horizontal && !_this3._hasWarned.nesting && _this3.context == null) {
            console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
            _this3._hasWarned.nesting = true;
          }

          return innerRet;
        });
      }

      if (this.props.debug) {
        return React.createElement(View, {
          style: styles.debug
        }, ret, this._renderDebugOverlay());
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props9 = this.props,
          data = _this$props9.data,
          extraData = _this$props9.extraData;

      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }

      var hiPriInProgress = this._hiPriInProgress;

      this._scheduleCellsToRenderUpdate();

      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);
    }
  }, {
    key: "_onCellLayout",
    value: function _onCellLayout(e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: this._selectOffset(layout),
        length: this._selectLength(layout),
        index: index,
        inLayout: true
      };
      var curr = this._frames[cellKey];

      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
        this._totalCellLength += next.length - (curr ? curr.length : 0);
        this._totalCellsMeasured += curr ? 0 : 1;
        this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;
        this._frames[cellKey] = next;
        this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);

        this._scheduleCellsToRenderUpdate();
      } else {
        this._frames[cellKey].inLayout = true;
      }

      this._triggerRemeasureForChildListsInCell(cellKey);

      this._computeBlankness();

      this._updateViewableItems(this.props.data);
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      var childListKeys = this._cellKeysToChildListKeys.get(cellKey);

      if (childListKeys) {
        for (var _iterator2 = _createForOfIteratorHelperLoose(childListKeys), _step2; !(_step2 = _iterator2()).done;) {
          var childKey = _step2.value;

          var childList = this._nestedChildLists.get(childKey);

          childList && childList.ref && childList.ref.measureLayoutRelativeToContainingList();
        }
      }
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;

      try {
        if (!this._scrollRef) {
          return;
        }

        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._scrollMetrics.contentLength = _this4._selectLength({
            width: width,
            height: height
          });

          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());

          _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
          _this4._scrollMetrics.offset = scrollMetrics.offset;
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);

      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this._getFrameMetricsApprox(ii);

        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }

      var windowTop = this._getFrameMetricsApprox(this.state.first).offset;

      var frameLast = this._getFrameMetricsApprox(this.state.last);

      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlay]
      }, framesInLayout.map(function (f, ii) {
        return React.createElement(View, {
          key: 'f' + ii,
          style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
            top: f.offset * normalize,
            height: f.length * normalize
          }]
        });
      }), React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
          top: windowTop * normalize,
          height: windowLen * normalize
        }]
      }), React.createElement(View, {
        style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
          top: visTop * normalize,
          height: visLen * normalize
        }]
      }));
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !this.props.horizontal ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(metrics) {
      return !this.props.horizontal ? metrics.y : metrics.x;
    }
  }, {
    key: "_maybeCallOnEndReached",
    value: function _maybeCallOnEndReached() {
      var _this$props10 = this.props,
          data = _this$props10.data,
          getItemCount = _this$props10.getItemCount,
          onEndReached = _this$props10.onEndReached,
          onEndReachedThreshold = _this$props10.onEndReachedThreshold;
      var _this$_scrollMetrics2 = this._scrollMetrics,
          contentLength = _this$_scrollMetrics2.contentLength,
          visibleLength = _this$_scrollMetrics2.visibleLength,
          offset = _this$_scrollMetrics2.offset;
      var distanceFromEnd = contentLength - visibleLength - offset;
      var threshold = onEndReachedThreshold ? onEndReachedThreshold * visibleLength : 2;

      if (onEndReached && this.state.last === getItemCount(data) - 1 && distanceFromEnd < threshold && this._scrollMetrics.contentLength !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      } else if (distanceFromEnd > threshold) {
        this._sentEndForContentLength = 0;
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this$state2 = this.state,
          first = _this$state2.first,
          last = _this$state2.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
          offset = _this$_scrollMetrics3.offset,
          visibleLength = _this$_scrollMetrics3.visibleLength,
          velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var scrollingThreshold = this.props.onEndReachedThreshold * visibleLength / 2;

      if (first > 0) {
        var distTop = offset - this._getFrameMetricsApprox(first).offset;

        hiPri = hiPri || distTop < 0 || velocity < -2 && distTop < scrollingThreshold;
      }

      if (last < itemCount - 1) {
        var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);
        hiPri = hiPri || distBottom < 0 || velocity > 2 && distBottom < scrollingThreshold;
      }

      if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
        this._hiPriInProgress = true;

        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });

        this._updateCellsToRender();

        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(data) {
      var _this5 = this;

      var getItemCount = this.props.getItemCount;

      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(getItemCount(data), _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, _this5.state);
      });
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var data = newProps.data,
          getItemCount = newProps.getItemCount,
          maxToRenderPerBatch = newProps.maxToRenderPerBatch;
      return {
        first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),
        last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))
      };
    }
  }]);
  return VirtualizedList;
}(React.PureComponent);

VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
VirtualizedList.defaultProps = {
  disableVirtualization: false,
  horizontal: false,
  initialNumToRender: 10,
  keyExtractor: function keyExtractor(item, index) {
    if (item.key != null) {
      return item.key;
    }

    if (item.id != null) {
      return item.id;
    }

    _usedIndexForKey = true;

    if (item.type && item.type.displayName) {
      _keylessItemComponentName = item.type.displayName;
    }

    return String(index);
  },
  maxToRenderPerBatch: 10,
  onEndReachedThreshold: 2,
  scrollEventThrottle: 50,
  updateCellsBatchingPeriod: 50,
  windowSize: 21
};

var CellRenderer = function (_React$Component) {
  (0, _inherits2.default)(CellRenderer, _React$Component);

  var _super2 = _createSuper(CellRenderer);

  function CellRenderer() {
    var _this6;

    (0, _classCallCheck2.default)(this, CellRenderer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this6 = _super2.call.apply(_super2, [this].concat(args));
    _this6.state = {
      separatorProps: {
        highlighted: false,
        leadingItem: _this6.props.item
      }
    };
    _this6._separators = {
      highlight: function highlight() {
        var _this6$props = _this6.props,
            cellKey = _this6$props.cellKey,
            prevCellKey = _this6$props.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: true
        });
      },
      unhighlight: function unhighlight() {
        var _this6$props2 = _this6.props,
            cellKey = _this6$props2.cellKey,
            prevCellKey = _this6$props2.prevCellKey;

        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: false
        });
      },
      updateProps: function updateProps(select, newProps) {
        var _this6$props3 = _this6.props,
            cellKey = _this6$props3.cellKey,
            prevCellKey = _this6$props3.prevCellKey;

        _this6.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);
      }
    };
    return _this6;
  }

  (0, _createClass2.default)(CellRenderer, [{
    key: "updateSeparatorProps",
    value: function updateSeparatorProps(newProps) {
      this.setState(function (state) {
        return {
          separatorProps: _objectSpread(_objectSpread({}, state.separatorProps), newProps)
        };
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.props.onUnmount(this.props.cellKey);
    }
  }, {
    key: "_renderElement",
    value: function _renderElement(renderItem, ListItemComponent, item, index) {
      if (renderItem && ListItemComponent) {
        console.warn('VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take' + ' precedence over renderItem.');
      }

      if (ListItemComponent) {
        return React.createElement(ListItemComponent, {
          item: item,
          index: index,
          separators: this._separators
        });
      }

      if (renderItem) {
        return renderItem({
          item: item,
          index: index,
          separators: this._separators
        });
      }

      invariant(false, 'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.');
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props11 = this.props,
          CellRendererComponent = _this$props11.CellRendererComponent,
          ItemSeparatorComponent = _this$props11.ItemSeparatorComponent,
          fillRateHelper = _this$props11.fillRateHelper,
          horizontal = _this$props11.horizontal,
          item = _this$props11.item,
          index = _this$props11.index,
          inversionStyle = _this$props11.inversionStyle,
          parentProps = _this$props11.parentProps;
      var renderItem = parentProps.renderItem,
          getItemLayout = parentProps.getItemLayout,
          ListItemComponent = parentProps.ListItemComponent;

      var element = this._renderElement(renderItem, ListItemComponent, item, index);

      var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;
      var itemSeparator = ItemSeparatorComponent && React.createElement(ItemSeparatorComponent, this.state.separatorProps);
      var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;
      var result = !CellRendererComponent ? React.createElement(View, {
        style: cellStyle,
        onLayout: onLayout
      }, element, itemSeparator) : React.createElement(CellRendererComponent, (0, _extends2.default)({}, this.props, {
        style: cellStyle,
        onLayout: onLayout
      }), element, itemSeparator);
      return React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
        cellKey: this.props.cellKey
      }, result);
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, prevState) {
      return {
        separatorProps: _objectSpread(_objectSpread({}, prevState.separatorProps), {}, {
          leadingItem: props.item
        })
      };
    }
  }]);
  return CellRenderer;
}(React.Component);

function describeNestedLists(childList) {
  var trace = 'VirtualizedList trace:\n' + ("  Child (" + (childList.horizontal ? 'horizontal' : 'vertical') + "):\n") + ("    listKey: " + childList.key + "\n") + ("    cellKey: " + childList.cellKey);
  var debugInfo = childList.parentDebugInfo;

  while (debugInfo) {
    trace += "\n  Parent (" + (debugInfo.horizontal ? 'horizontal' : 'vertical') + "):\n" + ("    listKey: " + debugInfo.listKey + "\n") + ("    cellKey: " + debugInfo.cellKey);
    debugInfo = debugInfo.parent;
  }

  return trace;
}

var styles = StyleSheet.create({
  verticallyInverted: {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  row: {
    flexDirection: 'row'
  },
  rowReverse: {
    flexDirection: 'row-reverse'
  },
  columnReverse: {
    flexDirection: 'column-reverse'
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJuYW1lcyI6WyJCYXRjaGluYXRvciIsInJlcXVpcmUiLCJGaWxsUmF0ZUhlbHBlciIsIlJlYWN0TmF0aXZlIiwiUmVmcmVzaENvbnRyb2wiLCJTY3JvbGxWaWV3IiwiU3R5bGVTaGVldCIsIlZpZXciLCJWaWV3YWJpbGl0eUhlbHBlciIsImZsYXR0ZW5TdHlsZSIsImluZm9Mb2ciLCJpbnZhcmlhbnQiLCJjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMiLCJfdXNlZEluZGV4Rm9yS2V5IiwiX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSIsIlZpcnR1YWxpemVkTGlzdCIsInByb3BzIiwiX2dldFNjcm9sbE1ldHJpY3MiLCJfc2Nyb2xsTWV0cmljcyIsIl9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbiIsImNvbnRleHQiLCJnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2dldE5lc3RlZENoaWxkU3RhdGUiLCJrZXkiLCJleGlzdGluZ0NoaWxkRGF0YSIsIl9uZXN0ZWRDaGlsZExpc3RzIiwiZ2V0Iiwic3RhdGUiLCJfcmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY2hpbGRMaXN0IiwiY2hpbGRMaXN0c0luQ2VsbCIsIl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cyIsImNlbGxLZXkiLCJTZXQiLCJhZGQiLCJzZXQiLCJyZWYiLCJjb25zb2xlIiwiZXJyb3IiLCJkZXNjcmliZU5lc3RlZExpc3RzIiwiaG9yaXpvbnRhbCIsIl9oYXNJbnRlcmFjdGVkIiwicmVjb3JkSW50ZXJhY3Rpb24iLCJfdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJfb25VcGRhdGVTZXBhcmF0b3JzIiwia2V5cyIsIm5ld1Byb3BzIiwiZm9yRWFjaCIsIl9jZWxsUmVmcyIsInVwZGF0ZVNlcGFyYXRvclByb3BzIiwiX2F2ZXJhZ2VDZWxsTGVuZ3RoIiwiTWFwIiwiX2ZyYW1lcyIsIl9mb290ZXJMZW5ndGgiLCJfaGFzRG9uZUluaXRpYWxTY3JvbGwiLCJfaGFzTW9yZSIsIl9oYXNXYXJuZWQiLCJfaGVhZGVyTGVuZ3RoIiwiX2hpUHJpSW5Qcm9ncmVzcyIsIl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiX2luZGljZXNUb0tleXMiLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiY29udGVudExlbmd0aCIsImRPZmZzZXQiLCJkdCIsIm9mZnNldCIsInRpbWVzdGFtcCIsInZlbG9jaXR5IiwidmlzaWJsZUxlbmd0aCIsIl9zY3JvbGxSZWYiLCJfc2VudEVuZEZvckNvbnRlbnRMZW5ndGgiLCJfdG90YWxDZWxsTGVuZ3RoIiwiX3RvdGFsQ2VsbHNNZWFzdXJlZCIsIl92aWV3YWJpbGl0eVR1cGxlcyIsIl9jYXB0dXJlU2Nyb2xsUmVmIiwiX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQiLCJvblJlZnJlc2giLCJyZWZyZXNoaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlZnJlc2hDb250cm9sIiwicHJvZ3Jlc3NWaWV3T2Zmc2V0IiwiX29uQ2VsbFVubW91bnQiLCJjdXJyIiwiaW5MYXlvdXQiLCJfb25MYXlvdXQiLCJlIiwibWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCIsIl9zZWxlY3RMZW5ndGgiLCJuYXRpdmVFdmVudCIsImxheW91dCIsIm9uTGF5b3V0IiwiX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSIsIl9tYXliZUNhbGxPbkVuZFJlYWNoZWQiLCJfb25MYXlvdXRFbXB0eSIsIl9vbkxheW91dEZvb3RlciIsIl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbCIsIl9nZXRGb290ZXJDZWxsS2V5IiwiX29uTGF5b3V0SGVhZGVyIiwiX29uQ29udGVudFNpemVDaGFuZ2UiLCJ3aWR0aCIsImhlaWdodCIsImluaXRpYWxTY3JvbGxJbmRleCIsImNvbnRlbnRPZmZzZXQiLCJzY3JvbGxUb0luZGV4IiwiYW5pbWF0ZWQiLCJpbmRleCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzIiwiX29uU2Nyb2xsIiwib25TY3JvbGwiLCJ0aW1lU3RhbXAiLCJsYXlvdXRNZWFzdXJlbWVudCIsImNvbnRlbnRTaXplIiwiX3NlbGVjdE9mZnNldCIsIk1hdGgiLCJtYXgiLCJwZXJmIiwicHJldkR0IiwiX3VwZGF0ZVZpZXdhYmxlSXRlbXMiLCJkYXRhIiwiX2ZpbGxSYXRlSGVscGVyIiwiYWN0aXZhdGUiLCJfY29tcHV0ZUJsYW5rbmVzcyIsIl9vblNjcm9sbEJlZ2luRHJhZyIsInR1cGxlIiwidmlld2FiaWxpdHlIZWxwZXIiLCJvblNjcm9sbEJlZ2luRHJhZyIsIl9vblNjcm9sbEVuZERyYWciLCJvblNjcm9sbEVuZERyYWciLCJfb25Nb21lbnR1bVNjcm9sbEVuZCIsIm9uTW9tZW50dW1TY3JvbGxFbmQiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlciIsImdldEl0ZW1Db3VudCIsIm9uRW5kUmVhY2hlZFRocmVzaG9sZCIsImlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCIsIl9pc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQiLCJzZXRTdGF0ZSIsIm5ld1N0YXRlIiwiX2dldEZyYW1lTWV0cmljc0FwcHJveCIsImRpc3RhbmNlRnJvbUVuZCIsInJlbmRlckFoZWFkIiwibWF4VG9SZW5kZXJQZXJCYXRjaCIsImZpcnN0IiwibGFzdCIsIm1pbiIsInNpemUiLCJuZXdGaXJzdCIsIm5ld0xhc3QiLCJpaSIsImNlbGxLZXlGb3JJbmRleCIsImNoaWxkTGlzdEtleXMiLCJzb21lQ2hpbGRIYXNNb3JlIiwiY2hpbGRLZXkiLCJoYXNNb3JlIiwiX2NyZWF0ZVZpZXdUb2tlbiIsImlzVmlld2FibGUiLCJnZXRJdGVtIiwia2V5RXh0cmFjdG9yIiwiaXRlbSIsImZyYW1lIiwiX2dldEZyYW1lTWV0cmljcyIsImdldEl0ZW1MYXlvdXQiLCJsZW5ndGgiLCJfX2lzTmF0aXZlIiwid2luZG93U2l6ZSIsIl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciIsInVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QiLCJ2aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMiLCJtYXAiLCJwYWlyIiwidmlld2FiaWxpdHlDb25maWciLCJvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIiwicHVzaCIsImluaXRpYWxTdGF0ZSIsImluaXRpYWxOdW1Ub1JlbmRlciIsInN0b3JlZFN0YXRlIiwiZ2V0TmVzdGVkQ2hpbGRTdGF0ZSIsIl9nZXRMaXN0S2V5IiwiZnJhbWVzIiwicGFyYW1zIiwidmVyeUxhc3QiLCJzY3JvbGxUbyIsIndhcm4iLCJ4IiwieSIsIm9uU2Nyb2xsVG9JbmRleEZhaWxlZCIsInZpZXdPZmZzZXQiLCJ2aWV3UG9zaXRpb24iLCJhdmVyYWdlSXRlbUxlbmd0aCIsImhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgiLCJpdGVtQ291bnQiLCJ0IiwiZmxhc2hTY3JvbGxJbmRpY2F0b3JzIiwiZ2V0U2Nyb2xsUmVzcG9uZGVyIiwiZ2V0U2Nyb2xsYWJsZU5vZGUiLCJmaW5kTm9kZUhhbmRsZSIsImdldFNjcm9sbFJlZiIsInNldE5hdGl2ZVByb3BzIiwibGlzdEtleSIsIl9nZXRDZWxsS2V5IiwicGFyZW50IiwiZGVidWdJbmZvIiwicmVnaXN0ZXJBc05lc3RlZENoaWxkIiwicGFyZW50RGVidWdJbmZvIiwidW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJkaXNwb3NlIiwiYWJvcnQiLCJkZWFjdGl2YXRlQW5kRmx1c2giLCJjZWxscyIsInN0aWNreUhlYWRlckluZGljZXMiLCJzdGlja3lJbmRpY2VzRnJvbVByb3BzIiwiaW52ZXJzaW9uU3R5bGUiLCJDZWxsUmVuZGVyZXJDb21wb25lbnQiLCJJdGVtU2VwYXJhdG9yQ29tcG9uZW50Iiwic3RpY2t5T2Zmc2V0IiwiTGlzdEhlYWRlckNvbXBvbmVudCIsImVuZCIsInByZXZDZWxsS2V5IiwiaGFzIiwidW5kZWZpbmVkIiwiX29uQ2VsbExheW91dCIsImRpc2FibGVWaXJ0dWFsaXphdGlvbiIsIm5lc3RlZENvbnRleHQiLCJfX0RFVl9fIiwiZmxhdFN0eWxlcyIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsImZsZXhXcmFwIiwiTGlzdEVtcHR5Q29tcG9uZW50IiwiTGlzdEZvb3RlckNvbXBvbmVudCIsImludmVydGVkIiwic3R5bGVzIiwiaG9yaXpvbnRhbGx5SW52ZXJ0ZWQiLCJ2ZXJ0aWNhbGx5SW52ZXJ0ZWQiLCJlbGVtZW50IiwiUmVhY3QiLCJpc1ZhbGlkRWxlbWVudCIsImNvbXBvc2UiLCJMaXN0SGVhZGVyQ29tcG9uZW50U3R5bGUiLCJzcGFjZXJLZXkiLCJsYXN0SW5pdGlhbEluZGV4IiwiX3B1c2hDZWxscyIsImZpcnN0QWZ0ZXJJbml0aWFsIiwiaW5zZXJ0ZWRTdGlja3lTcGFjZXIiLCJpbml0QmxvY2siLCJzdGlja3lCbG9jayIsImxlYWRTcGFjZSIsInRyYWlsU3BhY2UiLCJmaXJzdFNwYWNlIiwibGFzdEZyYW1lIiwiZW5kRnJhbWUiLCJ0YWlsU3BhY2VyTGVuZ3RoIiwiY2xvbmVFbGVtZW50IiwiZXZlbnQiLCJzdHlsZSIsIkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSIsInNjcm9sbFByb3BzIiwic2Nyb2xsRXZlbnRUaHJvdHRsZSIsImludmVydFN0aWNreUhlYWRlcnMiLCJpbm5lclJldCIsImdldFNjcm9sbE1ldHJpY3MiLCJfZ2V0RGVidWdJbmZvIiwicmVuZGVyU2Nyb2xsQ29tcG9uZW50IiwicmV0Iiwic2Nyb2xsQ29udGV4dCIsIm5lc3RpbmciLCJkZWJ1ZyIsIl9yZW5kZXJEZWJ1Z092ZXJsYXkiLCJwcmV2UHJvcHMiLCJleHRyYURhdGEiLCJyZXNldFZpZXdhYmxlSW5kaWNlcyIsImhpUHJpSW5Qcm9ncmVzcyIsImNvbXB1dGVCbGFua25lc3MiLCJuZXh0IiwibWVhc3VyZUxheW91dCIsInNjcm9sbE1ldHJpY3MiLCJzdGFjayIsIm5vcm1hbGl6ZSIsImZyYW1lc0luTGF5b3V0Iiwid2luZG93VG9wIiwiZnJhbWVMYXN0Iiwid2luZG93TGVuIiwidmlzVG9wIiwidmlzTGVuIiwiZGVidWdPdmVybGF5QmFzZSIsImRlYnVnT3ZlcmxheSIsImYiLCJkZWJ1Z092ZXJsYXlGcmFtZSIsInRvcCIsImRlYnVnT3ZlcmxheUZyYW1lTGFzdCIsImRlYnVnT3ZlcmxheUZyYW1lVmlzIiwib25FbmRSZWFjaGVkIiwidGhyZXNob2xkIiwiaGlQcmkiLCJzY3JvbGxpbmdUaHJlc2hvbGQiLCJkaXN0VG9wIiwiZGlzdEJvdHRvbSIsInNjaGVkdWxlIiwib25VcGRhdGUiLCJwcmV2U3RhdGUiLCJQdXJlQ29tcG9uZW50IiwiY29udGV4dFR5cGUiLCJWaXJ0dWFsaXplZExpc3RDb250ZXh0IiwiZGVmYXVsdFByb3BzIiwiaWQiLCJ0eXBlIiwiZGlzcGxheU5hbWUiLCJTdHJpbmciLCJDZWxsUmVuZGVyZXIiLCJzZXBhcmF0b3JQcm9wcyIsImhpZ2hsaWdodGVkIiwibGVhZGluZ0l0ZW0iLCJfc2VwYXJhdG9ycyIsImhpZ2hsaWdodCIsIm9uVXBkYXRlU2VwYXJhdG9ycyIsInVuaGlnaGxpZ2h0IiwidXBkYXRlUHJvcHMiLCJzZWxlY3QiLCJvblVubW91bnQiLCJyZW5kZXJJdGVtIiwiTGlzdEl0ZW1Db21wb25lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2VwYXJhdG9ycyIsImZpbGxSYXRlSGVscGVyIiwicGFyZW50UHJvcHMiLCJfcmVuZGVyRWxlbWVudCIsImVuYWJsZWQiLCJpdGVtU2VwYXJhdG9yIiwiY2VsbFN0eWxlIiwicm93UmV2ZXJzZSIsImNvbHVtblJldmVyc2UiLCJyb3ciLCJyZXN1bHQiLCJDb21wb25lbnQiLCJ0cmFjZSIsImNyZWF0ZSIsInRyYW5zZm9ybSIsInNjYWxlWSIsInNjYWxlWCIsImZsZXhEaXJlY3Rpb24iLCJmbGV4IiwicG9zaXRpb24iLCJyaWdodCIsImJvdHRvbSIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwibW9kdWxlIiwiZXhw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L0JULEVBQUFBLGFBQWEsRUFBRTtBQUNiUyxJQUFBQSxhQUFhLEVBQUU7QUFERixHQWJnQjtBQWdCL0J6RSxFQUFBQSxLQUFLLEVBQUU7QUFDTDBFLElBQUFBLElBQUksRUFBRTtBQURELEdBaEJ3QjtBQW1CL0J4RCxFQUFBQSxnQkFBZ0IsRUFBRTtBQUNoQnlELElBQUFBLFFBQVEsRUFBRSxVQURNO0FBRWhCckQsSUFBQUEsR0FBRyxFQUFFLENBRlc7QUFHaEJzRCxJQUFBQSxLQUFLLEVBQUU7QUFIUyxHQW5CYTtBQXdCL0J6RCxFQUFBQSxZQUFZLEVBQUU7QUFDWjBELElBQUFBLE1BQU0sRUFBRSxDQURJO0FBRVpwUCxJQUFBQSxLQUFLLEVBQUUsRUFGSztBQUdacVAsSUFBQUEsV0FBVyxFQUFFLE1BSEQ7QUFJWkMsSUFBQUEsV0FBVyxFQUFFO0FBSkQsR0F4QmlCO0FBOEIvQjFELEVBQUFBLGlCQUFpQixFQUFFO0FBQ2pCMkQsSUFBQUEsSUFBSSxFQUFFLENBRFc7QUFFakJDLElBQUFBLGVBQWUsRUFBRTtBQUZBLEdBOUJZO0FBa0MvQjFELEVBQUFBLHFCQUFxQixFQUFFO0FBQ3JCeUQsSUFBQUEsSUFBSSxFQUFFLENBRGU7QUFFckJGLElBQUFBLFdBQVcsRUFBRSxPQUZRO0FBR3JCQyxJQUFBQSxXQUFXLEVBQUU7QUFIUSxHQWxDUTtBQXVDL0J2RCxFQUFBQSxvQkFBb0IsRUFBRTtBQUNwQndELElBQUFBLElBQUksRUFBRSxDQURjO0FBRXBCRixJQUFBQSxXQUFXLEVBQUUsS0FGTztBQUdwQkMsSUFBQUEsV0FBVyxFQUFFO0FBSE87QUF2Q1MsQ0FBbEIsQ0FBZjtBQThDQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCalYsZUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBCYXRjaGluYXRvciA9IHJlcXVpcmUoJy4uL0ludGVyYWN0aW9uL0JhdGNoaW5hdG9yJyk7XG5jb25zdCBGaWxsUmF0ZUhlbHBlciA9IHJlcXVpcmUoJy4vRmlsbFJhdGVIZWxwZXInKTtcbmNvbnN0IFJlYWN0TmF0aXZlID0gcmVxdWlyZSgnLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmUnKTtcbmNvbnN0IFJlZnJlc2hDb250cm9sID0gcmVxdWlyZSgnLi4vQ29tcG9uZW50cy9SZWZyZXNoQ29udHJvbC9SZWZyZXNoQ29udHJvbCcpO1xuY29uc3QgU2Nyb2xsVmlldyA9IHJlcXVpcmUoJy4uL0NvbXBvbmVudHMvU2Nyb2xsVmlldy9TY3JvbGxWaWV3Jyk7XG5jb25zdCBTdHlsZVNoZWV0ID0gcmVxdWlyZSgnLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0Jyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnLi4vQ29tcG9uZW50cy9WaWV3L1ZpZXcnKTtcbmNvbnN0IFZpZXdhYmlsaXR5SGVscGVyID0gcmVxdWlyZSgnLi9WaWV3YWJpbGl0eUhlbHBlcicpO1xuXG5jb25zdCBmbGF0dGVuU3R5bGUgPSByZXF1aXJlKCcuLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZScpO1xuY29uc3QgaW5mb0xvZyA9IHJlcXVpcmUoJy4uL1V0aWxpdGllcy9pbmZvTG9nJyk7XG5jb25zdCBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxuY29uc3Qge2NvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0c30gPSByZXF1aXJlKCcuL1ZpcnR1YWxpemVVdGlscycpO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdHlwZSB7U2Nyb2xsUmVzcG9uZGVyVHlwZX0gZnJvbSAnLi4vQ29tcG9uZW50cy9TY3JvbGxWaWV3L1Njcm9sbFZpZXcnO1xuaW1wb3J0IHR5cGUge1ZpZXdTdHlsZVByb3B9IGZyb20gJy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7XG4gIFZpZXdhYmlsaXR5Q29uZmlnLFxuICBWaWV3VG9rZW4sXG4gIFZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlyLFxufSBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCB7XG4gIFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXIsXG4gIFZpcnR1YWxpemVkTGlzdENvbnRleHQsXG4gIFZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlcixcbiAgdHlwZSBDaGlsZExpc3RTdGF0ZSxcbiAgdHlwZSBMaXN0RGVidWdJbmZvLFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdENvbnRleHQuanMnO1xuXG50eXBlIEl0ZW0gPSBhbnk7XG5cbmV4cG9ydCB0eXBlIFNlcGFyYXRvcnMgPSB7XG4gIGhpZ2hsaWdodDogKCkgPT4gdm9pZCxcbiAgdW5oaWdobGlnaHQ6ICgpID0+IHZvaWQsXG4gIHVwZGF0ZVByb3BzOiAoc2VsZWN0OiAnbGVhZGluZycgfCAndHJhaWxpbmcnLCBuZXdQcm9wczogT2JqZWN0KSA9PiB2b2lkLFxuICAuLi5cbn07XG5cbmV4cG9ydCB0eXBlIFJlbmRlckl0ZW1Qcm9wczxJdGVtVD4gPSB7XG4gIGl0ZW06IEl0ZW1ULFxuICBpbmRleDogbnVtYmVyLFxuICBzZXBhcmF0b3JzOiBTZXBhcmF0b3JzLFxuICAuLi5cbn07XG5cbmV4cG9ydCB0eXBlIFJlbmRlckl0ZW1UeXBlPEl0ZW1UPiA9IChcbiAgaW5mbzogUmVuZGVySXRlbVByb3BzPEl0ZW1UPixcbikgPT4gUmVhY3QuTm9kZTtcblxudHlwZSBWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGUgPSB7XG4gIHZpZXdhYmlsaXR5SGVscGVyOiBWaWV3YWJpbGl0eUhlbHBlcixcbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogKGluZm86IHtcbiAgICB2aWV3YWJsZUl0ZW1zOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIGNoYW5nZWQ6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgLi4uXG4gIH0pID0+IHZvaWQsXG4gIC4uLlxufTtcblxudHlwZSBSZXF1aXJlZFByb3BzID0ge3xcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGFjY2Vzc29yIGZ1bmN0aW9ucyBhc3N1bWUgdGhpcyBpcyBhbiBBcnJheTx7a2V5OiBzdHJpbmd9IHwge2lkOiBzdHJpbmd9PiBidXQgeW91IGNhbiBvdmVycmlkZVxuICAgKiBnZXRJdGVtLCBnZXRJdGVtQ291bnQsIGFuZCBrZXlFeHRyYWN0b3IgdG8gaGFuZGxlIGFueSB0eXBlIG9mIGluZGV4LWJhc2VkIGRhdGEuXG4gICAqL1xuICBkYXRhPzogYW55LFxuICAvKipcbiAgICogQSBnZW5lcmljIGFjY2Vzc29yIGZvciBleHRyYWN0aW5nIGFuIGl0ZW0gZnJvbSBhbnkgc29ydCBvZiBkYXRhIGJsb2IuXG4gICAqL1xuICBnZXRJdGVtOiAoZGF0YTogYW55LCBpbmRleDogbnVtYmVyKSA9PiA/SXRlbSxcbiAgLyoqXG4gICAqIERldGVybWluZXMgaG93IG1hbnkgaXRlbXMgYXJlIGluIHRoZSBkYXRhIGJsb2IuXG4gICAqL1xuICBnZXRJdGVtQ291bnQ6IChkYXRhOiBhbnkpID0+IG51bWJlcixcbnx9O1xudHlwZSBPcHRpb25hbFByb3BzID0ge3xcbiAgcmVuZGVySXRlbT86ID9SZW5kZXJJdGVtVHlwZTxJdGVtPixcbiAgLyoqXG4gICAqIGBkZWJ1Z2Agd2lsbCB0dXJuIG9uIGV4dHJhIGxvZ2dpbmcgYW5kIHZpc3VhbCBvdmVybGF5cyB0byBhaWQgd2l0aCBkZWJ1Z2dpbmcgYm90aCB1c2FnZSBhbmRcbiAgICogaW1wbGVtZW50YXRpb24sIGJ1dCB3aXRoIGEgc2lnbmlmaWNhbnQgcGVyZiBoaXQuXG4gICAqL1xuICBkZWJ1Zz86ID9ib29sZWFuLFxuICAvKipcbiAgICogREVQUkVDQVRFRDogVmlydHVhbGl6YXRpb24gcHJvdmlkZXMgc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgYW5kIG1lbW9yeSBvcHRpbWl6YXRpb25zLCBidXQgZnVsbHlcbiAgICogdW5tb3VudHMgcmVhY3QgaW5zdGFuY2VzIHRoYXQgYXJlIG91dHNpZGUgb2YgdGhlIHJlbmRlciB3aW5kb3cuIFlvdSBzaG91bGQgb25seSBuZWVkIHRvIGRpc2FibGVcbiAgICogdGhpcyBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgKi9cbiAgZGlzYWJsZVZpcnR1YWxpemF0aW9uPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIG1hcmtlciBwcm9wZXJ0eSBmb3IgdGVsbGluZyB0aGUgbGlzdCB0byByZS1yZW5kZXIgKHNpbmNlIGl0IGltcGxlbWVudHMgYFB1cmVDb21wb25lbnRgKS4gSWZcbiAgICogYW55IG9mIHlvdXIgYHJlbmRlckl0ZW1gLCBIZWFkZXIsIEZvb3RlciwgZXRjLiBmdW5jdGlvbnMgZGVwZW5kIG9uIGFueXRoaW5nIG91dHNpZGUgb2YgdGhlXG4gICAqIGBkYXRhYCBwcm9wLCBzdGljayBpdCBoZXJlIGFuZCB0cmVhdCBpdCBpbW11dGFibHkuXG4gICAqL1xuICBleHRyYURhdGE/OiBhbnksXG4gIC8vIGUuZy4gaGVpZ2h0LCB5XG4gIGdldEl0ZW1MYXlvdXQ/OiAoXG4gICAgZGF0YTogYW55LFxuICAgIGluZGV4OiBudW1iZXIsXG4gICkgPT4ge1xuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgLi4uXG4gIH0sXG4gIGhvcml6b250YWw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEhvdyBtYW55IGl0ZW1zIHRvIHJlbmRlciBpbiB0aGUgaW5pdGlhbCBiYXRjaC4gVGhpcyBzaG91bGQgYmUgZW5vdWdoIHRvIGZpbGwgdGhlIHNjcmVlbiBidXQgbm90XG4gICAqIG11Y2ggbW9yZS4gTm90ZSB0aGVzZSBpdGVtcyB3aWxsIG5ldmVyIGJlIHVubW91bnRlZCBhcyBwYXJ0IG9mIHRoZSB3aW5kb3dlZCByZW5kZXJpbmcgaW4gb3JkZXJcbiAgICogdG8gaW1wcm92ZSBwZXJjZWl2ZWQgcGVyZm9ybWFuY2Ugb2Ygc2Nyb2xsLXRvLXRvcCBhY3Rpb25zLlxuICAgKi9cbiAgaW5pdGlhbE51bVRvUmVuZGVyOiBudW1iZXIsXG4gIC8qKlxuICAgKiBJbnN0ZWFkIG9mIHN0YXJ0aW5nIGF0IHRoZSB0b3Agd2l0aCB0aGUgZmlyc3QgaXRlbSwgc3RhcnQgYXQgYGluaXRpYWxTY3JvbGxJbmRleGAuIFRoaXNcbiAgICogZGlzYWJsZXMgdGhlIFwic2Nyb2xsIHRvIHRvcFwiIG9wdGltaXphdGlvbiB0aGF0IGtlZXBzIHRoZSBmaXJzdCBgaW5pdGlhbE51bVRvUmVuZGVyYCBpdGVtc1xuICAgKiBhbHdheXMgcmVuZGVyZWQgYW5kIGltbWVkaWF0ZWx5IHJlbmRlcnMgdGhlIGl0ZW1zIHN0YXJ0aW5nIGF0IHRoaXMgaW5pdGlhbCBpbmRleC4gUmVxdWlyZXNcbiAgICogYGdldEl0ZW1MYXlvdXRgIHRvIGJlIGltcGxlbWVudGVkLlxuICAgKi9cbiAgaW5pdGlhbFNjcm9sbEluZGV4PzogP251bWJlcixcbiAgLyoqXG4gICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2Ygc2Nyb2xsLiBVc2VzIHNjYWxlIHRyYW5zZm9ybXMgb2YgLTEuXG4gICAqL1xuICBpbnZlcnRlZD86ID9ib29sZWFuLFxuICBrZXlFeHRyYWN0b3I6IChpdGVtOiBJdGVtLCBpbmRleDogbnVtYmVyKSA9PiBzdHJpbmcsXG4gIC8qKlxuICAgKiBFYWNoIGNlbGwgaXMgcmVuZGVyZWQgdXNpbmcgdGhpcyBlbGVtZW50LiBDYW4gYmUgYSBSZWFjdCBDb21wb25lbnQgQ2xhc3MsXG4gICAqIG9yIGEgcmVuZGVyIGZ1bmN0aW9uLiBEZWZhdWx0cyB0byB1c2luZyBWaWV3LlxuICAgKi9cbiAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PzogP1JlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGluIGJldHdlZW4gZWFjaCBpdGVtLCBidXQgbm90IGF0IHRoZSB0b3Agb3IgYm90dG9tLiBCeSBkZWZhdWx0LCBgaGlnaGxpZ2h0ZWRgIGFuZFxuICAgKiBgbGVhZGluZ0l0ZW1gIHByb3BzIGFyZSBwcm92aWRlZC4gYHJlbmRlckl0ZW1gIHByb3ZpZGVzIGBzZXBhcmF0b3JzLmhpZ2hsaWdodGAvYHVuaGlnaGxpZ2h0YFxuICAgKiB3aGljaCB3aWxsIHVwZGF0ZSB0aGUgYGhpZ2hsaWdodGVkYCBwcm9wLCBidXQgeW91IGNhbiBhbHNvIGFkZCBjdXN0b20gcHJvcHMgd2l0aFxuICAgKiBgc2VwYXJhdG9ycy51cGRhdGVQcm9wc2AuXG4gICAqL1xuICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50PzogP1JlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgLyoqXG4gICAqIFRha2VzIGFuIGl0ZW0gZnJvbSBgZGF0YWAgYW5kIHJlbmRlcnMgaXQgaW50byB0aGUgbGlzdC4gRXhhbXBsZSB1c2FnZTpcbiAgICpcbiAgICogICAgIDxGbGF0TGlzdFxuICAgKiAgICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50PXtQbGF0Zm9ybS5PUyAhPT0gJ2FuZHJvaWQnICYmICh7aGlnaGxpZ2h0ZWR9KSA9PiAoXG4gICAqICAgICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZS5zZXBhcmF0b3IsIGhpZ2hsaWdodGVkICYmIHttYXJnaW5MZWZ0OiAwfV19IC8+XG4gICAqICAgICAgICl9XG4gICAqICAgICAgIGRhdGE9e1t7dGl0bGU6ICdUaXRsZSBUZXh0Jywga2V5OiAnaXRlbTEnfV19XG4gICAqICAgICAgIExpc3RJdGVtQ29tcG9uZW50PXsoe2l0ZW0sIHNlcGFyYXRvcnN9KSA9PiAoXG4gICAqICAgICAgICAgPFRvdWNoYWJsZUhpZ2hsaWdodFxuICAgKiAgICAgICAgICAgb25QcmVzcz17KCkgPT4gdGhpcy5fb25QcmVzcyhpdGVtKX1cbiAgICogICAgICAgICAgIG9uU2hvd1VuZGVybGF5PXtzZXBhcmF0b3JzLmhpZ2hsaWdodH1cbiAgICogICAgICAgICAgIG9uSGlkZVVuZGVybGF5PXtzZXBhcmF0b3JzLnVuaGlnaGxpZ2h0fT5cbiAgICogICAgICAgICAgIDxWaWV3IHN0eWxlPXt7YmFja2dyb3VuZENvbG9yOiAnd2hpdGUnfX0+XG4gICAqICAgICAgICAgICAgIDxUZXh0PntpdGVtLnRpdGxlfTwvVGV4dD5cbiAgICogICAgICAgICAgIDwvVmlldz5cbiAgICogICAgICAgICA8L1RvdWNoYWJsZUhpZ2hsaWdodD5cbiAgICogICAgICAgKX1cbiAgICogICAgIC8+XG4gICAqXG4gICAqIFByb3ZpZGVzIGFkZGl0aW9uYWwgbWV0YWRhdGEgbGlrZSBgaW5kZXhgIGlmIHlvdSBuZWVkIGl0LCBhcyB3ZWxsIGFzIGEgbW9yZSBnZW5lcmljXG4gICAqIGBzZXBhcmF0b3JzLnVwZGF0ZVByb3BzYCBmdW5jdGlvbiB3aGljaCBsZXQncyB5b3Ugc2V0IHdoYXRldmVyIHByb3BzIHlvdSB3YW50IHRvIGNoYW5nZSB0aGVcbiAgICogcmVuZGVyaW5nIG9mIGVpdGhlciB0aGUgbGVhZGluZyBzZXBhcmF0b3Igb3IgdHJhaWxpbmcgc2VwYXJhdG9yIGluIGNhc2UgdGhlIG1vcmUgY29tbW9uXG4gICAqIGBoaWdobGlnaHRgIGFuZCBgdW5oaWdobGlnaHRgICh3aGljaCBzZXQgdGhlIGBoaWdobGlnaHRlZDogYm9vbGVhbmAgcHJvcCkgYXJlIGluc3VmZmljaWVudCBmb3JcbiAgICogeW91ciB1c2UtY2FzZS5cbiAgICovXG4gIExpc3RJdGVtQ29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogUmVuZGVyZWQgd2hlbiB0aGUgbGlzdCBpcyBlbXB0eS4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEVtcHR5Q29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogUmVuZGVyZWQgYXQgdGhlIGJvdHRvbSBvZiBhbGwgdGhlIGl0ZW1zLiBDYW4gYmUgYSBSZWFjdCBDb21wb25lbnQgQ2xhc3MsIGEgcmVuZGVyIGZ1bmN0aW9uLCBvclxuICAgKiBhIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICBMaXN0Rm9vdGVyQ29tcG9uZW50PzogPyhSZWFjdC5Db21wb25lbnRUeXBlPGFueT4gfCBSZWFjdC5FbGVtZW50PGFueT4pLFxuICAvKipcbiAgICogU3R5bGluZyBmb3IgaW50ZXJuYWwgVmlldyBmb3IgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgKi9cbiAgTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlPzogVmlld1N0eWxlUHJvcCxcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGF0IHRoZSB0b3Agb2YgYWxsIHRoZSBpdGVtcy4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLCBhIHJlbmRlciBmdW5jdGlvbiwgb3JcbiAgICogYSByZW5kZXJlZCBlbGVtZW50LlxuICAgKi9cbiAgTGlzdEhlYWRlckNvbXBvbmVudD86ID8oUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHwgUmVhY3QuRWxlbWVudDxhbnk+KSxcbiAgLyoqXG4gICAqIFN0eWxpbmcgZm9yIGludGVybmFsIFZpZXcgZm9yIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICovXG4gIExpc3RIZWFkZXJDb21wb25lbnRTdHlsZT86IFZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGxpc3QuIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBWaXJ0dWFsaXplZExpc3RzIGF0IHRoZSBzYW1lIGxldmVsIG9mXG4gICAqIG5lc3Rpbmcgd2l0aGluIGFub3RoZXIgVmlydHVhbGl6ZWRMaXN0LCB0aGlzIGtleSBpcyBuZWNlc3NhcnkgZm9yIHZpcnR1YWxpemF0aW9uIHRvXG4gICAqIHdvcmsgcHJvcGVybHkuXG4gICAqL1xuICBsaXN0S2V5Pzogc3RyaW5nLFxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJlbmRlciBpbiBlYWNoIGluY3JlbWVudGFsIHJlbmRlciBiYXRjaC4gVGhlIG1vcmUgcmVuZGVyZWQgYXRcbiAgICogb25jZSwgdGhlIGJldHRlciB0aGUgZmlsbCByYXRlLCBidXQgcmVzcG9uc2l2ZW5lc3MgbWF5IHN1ZmZlciBiZWNhdXNlIHJlbmRlcmluZyBjb250ZW50IG1heVxuICAgKiBpbnRlcmZlcmUgd2l0aCByZXNwb25kaW5nIHRvIGJ1dHRvbiB0YXBzIG9yIG90aGVyIGludGVyYWN0aW9ucy5cbiAgICovXG4gIG1heFRvUmVuZGVyUGVyQmF0Y2g6IG51bWJlcixcbiAgLyoqXG4gICAqIENhbGxlZCBvbmNlIHdoZW4gdGhlIHNjcm9sbCBwb3NpdGlvbiBnZXRzIHdpdGhpbiBgb25FbmRSZWFjaGVkVGhyZXNob2xkYCBvZiB0aGUgcmVuZGVyZWRcbiAgICogY29udGVudC5cbiAgICovXG4gIG9uRW5kUmVhY2hlZD86ID8oaW5mbzoge2Rpc3RhbmNlRnJvbUVuZDogbnVtYmVyLCAuLi59KSA9PiB2b2lkLFxuICAvKipcbiAgICogSG93IGZhciBmcm9tIHRoZSBlbmQgKGluIHVuaXRzIG9mIHZpc2libGUgbGVuZ3RoIG9mIHRoZSBsaXN0KSB0aGUgYm90dG9tIGVkZ2Ugb2YgdGhlXG4gICAqIGxpc3QgbXVzdCBiZSBmcm9tIHRoZSBlbmQgb2YgdGhlIGNvbnRlbnQgdG8gdHJpZ2dlciB0aGUgYG9uRW5kUmVhY2hlZGAgY2FsbGJhY2suXG4gICAqIFRodXMgYSB2YWx1ZSBvZiAwLjUgd2lsbCB0cmlnZ2VyIGBvbkVuZFJlYWNoZWRgIHdoZW4gdGhlIGVuZCBvZiB0aGUgY29udGVudCBpc1xuICAgKiB3aXRoaW4gaGFsZiB0aGUgdmlzaWJsZSBsZW5ndGggb2YgdGhlIGxpc3QuXG4gICAqL1xuICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ/OiA/bnVtYmVyLFxuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIGEgc3RhbmRhcmQgUmVmcmVzaENvbnRyb2wgd2lsbCBiZSBhZGRlZCBmb3IgXCJQdWxsIHRvIFJlZnJlc2hcIiBmdW5jdGlvbmFsaXR5LiBNYWtlXG4gICAqIHN1cmUgdG8gYWxzbyBzZXQgdGhlIGByZWZyZXNoaW5nYCBwcm9wIGNvcnJlY3RseS5cbiAgICovXG4gIG9uUmVmcmVzaD86ID8oKSA9PiB2b2lkLFxuICAvKipcbiAgICogVXNlZCB0byBoYW5kbGUgZmFpbHVyZXMgd2hlbiBzY3JvbGxpbmcgdG8gYW4gaW5kZXggdGhhdCBoYXMgbm90IGJlZW4gbWVhc3VyZWQgeWV0LiBSZWNvbW1lbmRlZFxuICAgKiBhY3Rpb24gaXMgdG8gZWl0aGVyIGNvbXB1dGUgeW91ciBvd24gb2Zmc2V0IGFuZCBgc2Nyb2xsVG9gIGl0LCBvciBzY3JvbGwgYXMgZmFyIGFzIHBvc3NpYmxlIGFuZFxuICAgKiB0aGVuIHRyeSBhZ2FpbiBhZnRlciBtb3JlIGl0ZW1zIGhhdmUgYmVlbiByZW5kZXJlZC5cbiAgICovXG4gIG9uU2Nyb2xsVG9JbmRleEZhaWxlZD86ID8oaW5mbzoge1xuICAgIGluZGV4OiBudW1iZXIsXG4gICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDogbnVtYmVyLFxuICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiBudW1iZXIsXG4gICAgLi4uXG4gIH0pID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdmlld2FiaWxpdHkgb2Ygcm93cyBjaGFuZ2VzLCBhcyBkZWZpbmVkIGJ5IHRoZVxuICAgKiBgdmlld2FiaWxpdHlDb25maWdgIHByb3AuXG4gICAqL1xuICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkPzogPyhpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIC4uLlxuICB9KSA9PiB2b2lkLFxuICBwZXJzaXN0ZW50U2Nyb2xsYmFyPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBTZXQgdGhpcyB3aGVuIG9mZnNldCBpcyBuZWVkZWQgZm9yIHRoZSBsb2FkaW5nIGluZGljYXRvciB0byBzaG93IGNvcnJlY3RseS5cbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIHByb2dyZXNzVmlld09mZnNldD86IG51bWJlcixcbiAgLyoqXG4gICAqIEEgY3VzdG9tIHJlZnJlc2ggY29udHJvbCBlbGVtZW50LiBXaGVuIHNldCwgaXQgb3ZlcnJpZGVzIHRoZSBkZWZhdWx0XG4gICAqIDxSZWZyZXNoQ29udHJvbD4gY29tcG9uZW50IGJ1aWx0IGludGVybmFsbHkuIFRoZSBvblJlZnJlc2ggYW5kIHJlZnJlc2hpbmdcbiAgICogcHJvcHMgYXJlIGFsc28gaWdub3JlZC4gT25seSB3b3JrcyBmb3IgdmVydGljYWwgVmlydHVhbGl6ZWRMaXN0LlxuICAgKi9cbiAgcmVmcmVzaENvbnRyb2w/OiA/UmVhY3QuRWxlbWVudDxhbnk+LFxuICAvKipcbiAgICogU2V0IHRoaXMgdHJ1ZSB3aGlsZSB3YWl0aW5nIGZvciBuZXcgZGF0YSBmcm9tIGEgcmVmcmVzaC5cbiAgICovXG4gIHJlZnJlc2hpbmc/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIE5vdGU6IG1heSBoYXZlIGJ1Z3MgKG1pc3NpbmcgY29udGVudCkgaW4gc29tZSBjaXJjdW1zdGFuY2VzIC0gdXNlIGF0IHlvdXIgb3duIHJpc2suXG4gICAqXG4gICAqIFRoaXMgbWF5IGltcHJvdmUgc2Nyb2xsIHBlcmZvcm1hbmNlIGZvciBsYXJnZSBsaXN0cy5cbiAgICovXG4gIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz86IGJvb2xlYW4sXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBjdXN0b20gc2Nyb2xsIGNvbXBvbmVudCwgZS5nLiB3aXRoIGEgZGlmZmVyZW50bHkgc3R5bGVkIGBSZWZyZXNoQ29udHJvbGAuXG4gICAqL1xuICByZW5kZXJTY3JvbGxDb21wb25lbnQ/OiAocHJvcHM6IE9iamVjdCkgPT4gUmVhY3QuRWxlbWVudDxhbnk+LFxuICAvKipcbiAgICogQW1vdW50IG9mIHRpbWUgYmV0d2VlbiBsb3ctcHJpIGl0ZW0gcmVuZGVyIGJhdGNoZXMsIGUuZy4gZm9yIHJlbmRlcmluZyBpdGVtcyBxdWl0ZSBhIHdheXMgb2ZmXG4gICAqIHNjcmVlbi4gU2ltaWxhciBmaWxsIHJhdGUvcmVzcG9uc2l2ZW5lc3MgdHJhZGVvZmYgYXMgYG1heFRvUmVuZGVyUGVyQmF0Y2hgLlxuICAgKi9cbiAgdXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZDogbnVtYmVyLFxuICAvKipcbiAgICogU2VlIGBWaWV3YWJpbGl0eUhlbHBlcmAgZm9yIGZsb3cgdHlwZSBhbmQgZnVydGhlciBkb2N1bWVudGF0aW9uLlxuICAgKi9cbiAgdmlld2FiaWxpdHlDb25maWc/OiBWaWV3YWJpbGl0eUNvbmZpZyxcbiAgLyoqXG4gICAqIExpc3Qgb2YgVmlld2FiaWxpdHlDb25maWcvb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCBwYWlycy4gQSBzcGVjaWZpYyBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkXG4gICAqIHdpbGwgYmUgY2FsbGVkIHdoZW4gaXRzIGNvcnJlc3BvbmRpbmcgVmlld2FiaWxpdHlDb25maWcncyBjb25kaXRpb25zIGFyZSBtZXQuXG4gICAqL1xuICB2aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnM/OiBBcnJheTxWaWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcj4sXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyByZW5kZXJlZCBvdXRzaWRlIG9mIHRoZSB2aXNpYmxlIGFyZWEsIGluIHVuaXRzIG9mXG4gICAqIHZpc2libGUgbGVuZ3Rocy4gU28gaWYgeW91ciBsaXN0IGZpbGxzIHRoZSBzY3JlZW4sIHRoZW4gYHdpbmRvd1NpemU9ezIxfWAgKHRoZSBkZWZhdWx0KSB3aWxsXG4gICAqIHJlbmRlciB0aGUgdmlzaWJsZSBzY3JlZW4gYXJlYSBwbHVzIHVwIHRvIDEwIHNjcmVlbnMgYWJvdmUgYW5kIDEwIGJlbG93IHRoZSB2aWV3cG9ydC4gUmVkdWNpbmdcbiAgICogdGhpcyBudW1iZXIgd2lsbCByZWR1Y2UgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBtYXkgaW1wcm92ZSBwZXJmb3JtYW5jZSwgYnV0IHdpbGwgaW5jcmVhc2UgdGhlXG4gICAqIGNoYW5jZSB0aGF0IGZhc3Qgc2Nyb2xsaW5nIG1heSByZXZlYWwgbW9tZW50YXJ5IGJsYW5rIGFyZWFzIG9mIHVucmVuZGVyZWQgY29udGVudC5cbiAgICovXG4gIHdpbmRvd1NpemU6IG51bWJlcixcbiAgLyoqXG4gICAqIFRoZSBsZWdhY3kgaW1wbGVtZW50YXRpb24gaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5cbiAgICovXG4gIGxlZ2FjeUltcGxlbWVudGF0aW9uPzogZW1wdHksXG58fTtcblxudHlwZSBQcm9wcyA9IHt8XG4gIC4uLlJlYWN0LkVsZW1lbnRDb25maWc8dHlwZW9mIFNjcm9sbFZpZXc+LFxuICAuLi5SZXF1aXJlZFByb3BzLFxuICAuLi5PcHRpb25hbFByb3BzLFxufH07XG5cbnR5cGUgRGVmYXVsdFByb3BzID0ge3xcbiAgZGlzYWJsZVZpcnR1YWxpemF0aW9uOiBib29sZWFuLFxuICBob3Jpem9udGFsOiBib29sZWFuLFxuICBpbml0aWFsTnVtVG9SZW5kZXI6IG51bWJlcixcbiAga2V5RXh0cmFjdG9yOiAoaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nLFxuICBtYXhUb1JlbmRlclBlckJhdGNoOiBudW1iZXIsXG4gIG9uRW5kUmVhY2hlZFRocmVzaG9sZDogbnVtYmVyLFxuICBzY3JvbGxFdmVudFRocm90dGxlOiBudW1iZXIsXG4gIHVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2Q6IG51bWJlcixcbiAgd2luZG93U2l6ZTogbnVtYmVyLFxufH07XG5cbmxldCBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG5sZXQgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZTogc3RyaW5nID0gJyc7XG5cbnR5cGUgU3RhdGUgPSB7XG4gIGZpcnN0OiBudW1iZXIsXG4gIGxhc3Q6IG51bWJlcixcbn07XG5cbi8qKlxuICogQmFzZSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIG1vcmUgY29udmVuaWVudCBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0Lmh0bWwpXG4gKiBhbmQgW2A8U2VjdGlvbkxpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9zZWN0aW9ubGlzdC5odG1sKSBjb21wb25lbnRzLCB3aGljaCBhcmUgYWxzbyBiZXR0ZXJcbiAqIGRvY3VtZW50ZWQuIEluIGdlbmVyYWwsIHRoaXMgc2hvdWxkIG9ubHkgcmVhbGx5IGJlIHVzZWQgaWYgeW91IG5lZWQgbW9yZSBmbGV4aWJpbGl0eSB0aGFuXG4gKiBgRmxhdExpc3RgIHByb3ZpZGVzLCBlLmcuIGZvciB1c2Ugd2l0aCBpbW11dGFibGUgZGF0YSBpbnN0ZWFkIG9mIHBsYWluIGFycmF5cy5cbiAqXG4gKiBWaXJ0dWFsaXphdGlvbiBtYXNzaXZlbHkgaW1wcm92ZXMgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBwZXJmb3JtYW5jZSBvZiBsYXJnZSBsaXN0cyBieVxuICogbWFpbnRhaW5pbmcgYSBmaW5pdGUgcmVuZGVyIHdpbmRvdyBvZiBhY3RpdmUgaXRlbXMgYW5kIHJlcGxhY2luZyBhbGwgaXRlbXMgb3V0c2lkZSBvZiB0aGUgcmVuZGVyXG4gKiB3aW5kb3cgd2l0aCBhcHByb3ByaWF0ZWx5IHNpemVkIGJsYW5rIHNwYWNlLiBUaGUgd2luZG93IGFkYXB0cyB0byBzY3JvbGxpbmcgYmVoYXZpb3IsIGFuZCBpdGVtc1xuICogYXJlIHJlbmRlcmVkIGluY3JlbWVudGFsbHkgd2l0aCBsb3ctcHJpIChhZnRlciBhbnkgcnVubmluZyBpbnRlcmFjdGlvbnMpIGlmIHRoZXkgYXJlIGZhciBmcm9tIHRoZVxuICogdmlzaWJsZSBhcmVhLCBvciB3aXRoIGhpLXByaSBvdGhlcndpc2UgdG8gbWluaW1pemUgdGhlIHBvdGVudGlhbCBvZiBzZWVpbmcgYmxhbmsgc3BhY2UuXG4gKlxuICogU29tZSBjYXZlYXRzOlxuICpcbiAqIC0gSW50ZXJuYWwgc3RhdGUgaXMgbm90IHByZXNlcnZlZCB3aGVuIGNvbnRlbnQgc2Nyb2xscyBvdXQgb2YgdGhlIHJlbmRlciB3aW5kb3cuIE1ha2Ugc3VyZSBhbGxcbiAqICAgeW91ciBkYXRhIGlzIGNhcHR1cmVkIGluIHRoZSBpdGVtIGRhdGEgb3IgZXh0ZXJuYWwgc3RvcmVzIGxpa2UgRmx1eCwgUmVkdXgsIG9yIFJlbGF5LlxuICogLSBUaGlzIGlzIGEgYFB1cmVDb21wb25lbnRgIHdoaWNoIG1lYW5zIHRoYXQgaXQgd2lsbCBub3QgcmUtcmVuZGVyIGlmIGBwcm9wc2AgcmVtYWluIHNoYWxsb3ctXG4gKiAgIGVxdWFsLiBNYWtlIHN1cmUgdGhhdCBldmVyeXRoaW5nIHlvdXIgYHJlbmRlckl0ZW1gIGZ1bmN0aW9uIGRlcGVuZHMgb24gaXMgcGFzc2VkIGFzIGEgcHJvcFxuICogICAoZS5nLiBgZXh0cmFEYXRhYCkgdGhhdCBpcyBub3QgYD09PWAgYWZ0ZXIgdXBkYXRlcywgb3RoZXJ3aXNlIHlvdXIgVUkgbWF5IG5vdCB1cGRhdGUgb25cbiAqICAgY2hhbmdlcy4gVGhpcyBpbmNsdWRlcyB0aGUgYGRhdGFgIHByb3AgYW5kIHBhcmVudCBjb21wb25lbnQgc3RhdGUuXG4gKiAtIEluIG9yZGVyIHRvIGNvbnN0cmFpbiBtZW1vcnkgYW5kIGVuYWJsZSBzbW9vdGggc2Nyb2xsaW5nLCBjb250ZW50IGlzIHJlbmRlcmVkIGFzeW5jaHJvbm91c2x5XG4gKiAgIG9mZnNjcmVlbi4gVGhpcyBtZWFucyBpdCdzIHBvc3NpYmxlIHRvIHNjcm9sbCBmYXN0ZXIgdGhhbiB0aGUgZmlsbCByYXRlIGFuZHMgbW9tZW50YXJpbHkgc2VlXG4gKiAgIGJsYW5rIGNvbnRlbnQuIFRoaXMgaXMgYSB0cmFkZW9mZiB0aGF0IGNhbiBiZSBhZGp1c3RlZCB0byBzdWl0IHRoZSBuZWVkcyBvZiBlYWNoIGFwcGxpY2F0aW9uLFxuICogICBhbmQgd2UgYXJlIHdvcmtpbmcgb24gaW1wcm92aW5nIGl0IGJlaGluZCB0aGUgc2NlbmVzLlxuICogLSBCeSBkZWZhdWx0LCB0aGUgbGlzdCBsb29rcyBmb3IgYSBga2V5YCBvciBgaWRgIHByb3Agb24gZWFjaCBpdGVtIGFuZCB1c2VzIHRoYXQgZm9yIHRoZSBSZWFjdCBrZXkuXG4gKiAgIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gcHJvdmlkZSBhIGN1c3RvbSBga2V5RXh0cmFjdG9yYCBwcm9wLlxuICpcbiAqL1xuY2xhc3MgVmlydHVhbGl6ZWRMaXN0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgc3RhdGljIGNvbnRleHRUeXBlOiB0eXBlb2YgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCA9IFZpcnR1YWxpemVkTGlzdENvbnRleHQ7XG5cbiAgLy8gc2Nyb2xsVG9FbmQgbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wXG4gIHNjcm9sbFRvRW5kKHBhcmFtcz86ID97YW5pbWF0ZWQ/OiA/Ym9vbGVhbiwgLi4ufSkge1xuICAgIGNvbnN0IGFuaW1hdGVkID0gcGFyYW1zID8gcGFyYW1zLmFuaW1hdGVkIDogdHJ1ZTtcbiAgICBjb25zdCB2ZXJ5TGFzdCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgLSAxO1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHZlcnlMYXN0KTtcbiAgICBjb25zdCBvZmZzZXQgPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBmcmFtZS5vZmZzZXQgK1xuICAgICAgICBmcmFtZS5sZW5ndGggK1xuICAgICAgICB0aGlzLl9mb290ZXJMZW5ndGggLVxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgKTtcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0luZGV4IG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0luZGV4KHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgICAuLi5cbiAgfSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7YW5pbWF0ZWQsIGluZGV4LCB2aWV3T2Zmc2V0LCB2aWV3UG9zaXRpb259ID0gcGFyYW1zO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4ID49IDAsXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBidXQgbWluaW11bSBpcyAwYCxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudChkYXRhKSA+PSAxLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiBpdGVtIGxlbmd0aCAke2dldEl0ZW1Db3VudChcbiAgICAgICAgZGF0YSxcbiAgICAgICl9IGJ1dCBtaW5pbXVtIGlzIDFgLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBpcyBvdXQgb2YgMCB0byAke2dldEl0ZW1Db3VudChcbiAgICAgICAgZGF0YSxcbiAgICAgICkgLSAxfWAsXG4gICAgKTtcbiAgICBpZiAoIWdldEl0ZW1MYXlvdXQgJiYgaW5kZXggPiB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4KSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgICEhb25TY3JvbGxUb0luZGV4RmFpbGVkLFxuICAgICAgICAnc2Nyb2xsVG9JbmRleCBzaG91bGQgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGdldEl0ZW1MYXlvdXQgb3Igb25TY3JvbGxUb0luZGV4RmFpbGVkLCAnICtcbiAgICAgICAgICAnb3RoZXJ3aXNlIHRoZXJlIGlzIG5vIHdheSB0byBrbm93IHRoZSBsb2NhdGlvbiBvZiBvZmZzY3JlZW4gaW5kaWNlcyBvciBoYW5kbGUgZmFpbHVyZXMuJyxcbiAgICAgICk7XG4gICAgICBvblNjcm9sbFRvSW5kZXhGYWlsZWQoe1xuICAgICAgICBhdmVyYWdlSXRlbUxlbmd0aDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGgsXG4gICAgICAgIGhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXg6IHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgsXG4gICAgICAgIGluZGV4LFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGluZGV4KTtcbiAgICBjb25zdCBvZmZzZXQgPVxuICAgICAgTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIGZyYW1lLm9mZnNldCAtXG4gICAgICAgICAgKHZpZXdQb3NpdGlvbiB8fCAwKSAqXG4gICAgICAgICAgICAodGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC0gZnJhbWUubGVuZ3RoKSxcbiAgICAgICkgLSAodmlld09mZnNldCB8fCAwKTtcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgaG9yaXpvbnRhbCA/IHt4OiBvZmZzZXQsIGFuaW1hdGVkfSA6IHt5OiBvZmZzZXQsIGFuaW1hdGVkfSxcbiAgICApO1xuICB9XG5cbiAgLy8gc2Nyb2xsVG9JdGVtIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcC4gUmVxdWlyZWQgbGluZWFyIHNjYW4gdGhyb3VnaCBpdGVtcyAtXG4gIC8vIHVzZSBzY3JvbGxUb0luZGV4IGluc3RlYWQgaWYgcG9zc2libGUuXG4gIHNjcm9sbFRvSXRlbShwYXJhbXM6IHtcbiAgICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAgIGl0ZW06IEl0ZW0sXG4gICAgdmlld1Bvc2l0aW9uPzogbnVtYmVyLFxuICAgIC4uLlxuICB9KSB7XG4gICAgY29uc3Qge2l0ZW19ID0gcGFyYW1zO1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtLCBnZXRJdGVtQ291bnR9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpdGVtQ291bnQgPSBnZXRJdGVtQ291bnQoZGF0YSk7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1Db3VudDsgaW5kZXgrKykge1xuICAgICAgaWYgKGdldEl0ZW0oZGF0YSwgaW5kZXgpID09PSBpdGVtKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9JbmRleCh7Li4ucGFyYW1zLCBpbmRleH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsIHRvIGEgc3BlY2lmaWMgY29udGVudCBwaXhlbCBvZmZzZXQgaW4gdGhlIGxpc3QuXG4gICAqXG4gICAqIFBhcmFtIGBvZmZzZXRgIGV4cGVjdHMgdGhlIG9mZnNldCB0byBzY3JvbGwgdG8uXG4gICAqIEluIGNhc2Ugb2YgYGhvcml6b250YWxgIGlzIHRydWUsIHRoZSBvZmZzZXQgaXMgdGhlIHgtdmFsdWUsXG4gICAqIGluIGFueSBvdGhlciBjYXNlIHRoZSBvZmZzZXQgaXMgdGhlIHktdmFsdWUuXG4gICAqXG4gICAqIFBhcmFtIGBhbmltYXRlZGAgKGB0cnVlYCBieSBkZWZhdWx0KSBkZWZpbmVzIHdoZXRoZXIgdGhlIGxpc3RcbiAgICogc2hvdWxkIGRvIGFuIGFuaW1hdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAqL1xuICBzY3JvbGxUb09mZnNldChwYXJhbXM6IHthbmltYXRlZD86ID9ib29sZWFuLCBvZmZzZXQ6IG51bWJlciwgLi4ufSkge1xuICAgIGNvbnN0IHthbmltYXRlZCwgb2Zmc2V0fSA9IHBhcmFtcztcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgdGhpcy5wcm9wcy5ob3Jpem9udGFsID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9IDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICByZWNvcmRJbnRlcmFjdGlvbigpIHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godCA9PiB7XG4gICAgICB0LnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLmRhdGEpO1xuICB9XG5cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5mbGFzaFNjcm9sbEluZGljYXRvcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGhhbmRsZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLlxuICAgKiBOb3RlIHRoYXQgYHRoaXMuX3Njcm9sbFJlZmAgbWlnaHQgbm90IGJlIGEgYFNjcm9sbFZpZXdgLCBzbyB3ZVxuICAgKiBuZWVkIHRvIGNoZWNrIHRoYXQgaXQgcmVzcG9uZHMgdG8gYGdldFNjcm9sbFJlc3BvbmRlcmAgYmVmb3JlIGNhbGxpbmcgaXQuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXIoKTogP1Njcm9sbFJlc3BvbmRlclR5cGUge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlc3BvbmRlcikge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIoKTtcbiAgICB9XG4gIH1cblxuICBnZXRTY3JvbGxhYmxlTm9kZSgpOiA/bnVtYmVyIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxhYmxlTm9kZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxhYmxlTm9kZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUodGhpcy5fc2Nyb2xsUmVmKTtcbiAgICB9XG4gIH1cblxuICBnZXRTY3JvbGxSZWYoKTpcbiAgICB8ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxWaWV3PlxuICAgIHwgP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpZXc+IHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZWYpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWY7XG4gICAgfVxuICB9XG5cbiAgc2V0TmF0aXZlUHJvcHMocHJvcHM6IE9iamVjdCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wczogRGVmYXVsdFByb3BzID0ge1xuICAgIGRpc2FibGVWaXJ0dWFsaXphdGlvbjogZmFsc2UsXG4gICAgaG9yaXpvbnRhbDogZmFsc2UsXG4gICAgaW5pdGlhbE51bVRvUmVuZGVyOiAxMCxcbiAgICBrZXlFeHRyYWN0b3I6IChpdGVtOiBJdGVtLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoaXRlbS5rZXkgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaXRlbS5rZXk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbS5pZCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkO1xuICAgICAgfVxuICAgICAgX3VzZWRJbmRleEZvcktleSA9IHRydWU7XG4gICAgICBpZiAoaXRlbS50eXBlICYmIGl0ZW0udHlwZS5kaXNwbGF5TmFtZSkge1xuICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gaXRlbS50eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFN0cmluZyhpbmRleCk7XG4gICAgfSxcbiAgICBtYXhUb1JlbmRlclBlckJhdGNoOiAxMCxcbiAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6IDIsIC8vIG11bHRpcGxlcyBvZiBsZW5ndGhcbiAgICBzY3JvbGxFdmVudFRocm90dGxlOiA1MCxcbiAgICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kOiA1MCxcbiAgICB3aW5kb3dTaXplOiAyMSwgLy8gbXVsdGlwbGVzIG9mIGxlbmd0aFxuICB9O1xuXG4gIF9nZXRDZWxsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dD8uY2VsbEtleSB8fCAncm9vdExpc3QnO1xuICB9XG5cbiAgX2dldExpc3RLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKTtcbiAgfVxuXG4gIF9nZXREZWJ1Z0luZm8oKTogTGlzdERlYnVnSW5mbyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpc3RLZXk6IHRoaXMuX2dldExpc3RLZXkoKSxcbiAgICAgIGNlbGxLZXk6IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgIGhvcml6b250YWw6ICEhdGhpcy5wcm9wcy5ob3Jpem9udGFsLFxuICAgICAgcGFyZW50OiB0aGlzLmNvbnRleHQ/LmRlYnVnSW5mbyxcbiAgICB9O1xuICB9XG5cbiAgX2dldFNjcm9sbE1ldHJpY3MgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gIH07XG5cbiAgaGFzTW9yZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faGFzTW9yZTtcbiAgfVxuXG4gIF9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICBfZ2V0TmVzdGVkQ2hpbGRTdGF0ZSA9IChrZXk6IHN0cmluZyk6ID9DaGlsZExpc3RTdGF0ZSA9PiB7XG4gICAgY29uc3QgZXhpc3RpbmdDaGlsZERhdGEgPSB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmdldChrZXkpO1xuICAgIHJldHVybiBleGlzdGluZ0NoaWxkRGF0YSAmJiBleGlzdGluZ0NoaWxkRGF0YS5zdGF0ZTtcbiAgfTtcblxuICBfcmVnaXN0ZXJBc05lc3RlZENoaWxkID0gKGNoaWxkTGlzdDoge1xuICAgIGNlbGxLZXk6IHN0cmluZyxcbiAgICBrZXk6IHN0cmluZyxcbiAgICByZWY6IFZpcnR1YWxpemVkTGlzdCxcbiAgICBwYXJlbnREZWJ1Z0luZm86IExpc3REZWJ1Z0luZm8sXG4gICAgLi4uXG4gIH0pOiA/Q2hpbGRMaXN0U3RhdGUgPT4ge1xuICAgIC8vIFJlZ2lzdGVyIHRoZSBtYXBwaW5nIGJldHdlZW4gdGhpcyBjaGlsZCBrZXkgYW5kIHRoZSBjZWxsS2V5IGZvciBpdHMgY2VsbFxuICAgIGNvbnN0IGNoaWxkTGlzdHNJbkNlbGwgPVxuICAgICAgdGhpcy5fY2VsbEtleXNUb0NoaWxkTGlzdEtleXMuZ2V0KGNoaWxkTGlzdC5jZWxsS2V5KSB8fCBuZXcgU2V0KCk7XG4gICAgY2hpbGRMaXN0c0luQ2VsbC5hZGQoY2hpbGRMaXN0LmtleSk7XG4gICAgdGhpcy5fY2VsbEtleXNUb0NoaWxkTGlzdEtleXMuc2V0KGNoaWxkTGlzdC5jZWxsS2V5LCBjaGlsZExpc3RzSW5DZWxsKTtcbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGNoaWxkTGlzdC5rZXkpO1xuICAgIGlmIChleGlzdGluZ0NoaWxkRGF0YSAmJiBleGlzdGluZ0NoaWxkRGF0YS5yZWYgIT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICdBIFZpcnR1YWxpemVkTGlzdCBjb250YWlucyBhIGNlbGwgd2hpY2ggaXRzZWxmIGNvbnRhaW5zICcgK1xuICAgICAgICAgICdtb3JlIHRoYW4gb25lIFZpcnR1YWxpemVkTGlzdCBvZiB0aGUgc2FtZSBvcmllbnRhdGlvbiBhcyB0aGUgcGFyZW50ICcgK1xuICAgICAgICAgICdsaXN0LiBZb3UgbXVzdCBwYXNzIGEgdW5pcXVlIGxpc3RLZXkgcHJvcCB0byBlYWNoIHNpYmxpbmcgbGlzdC5cXG5cXG4nICtcbiAgICAgICAgICBkZXNjcmliZU5lc3RlZExpc3RzKHtcbiAgICAgICAgICAgIC4uLmNoaWxkTGlzdCxcbiAgICAgICAgICAgIC8vIFdlJ3JlIGNhbGxlZCBmcm9tIHRoZSBjaGlsZCdzIGNvbXBvbmVudERpZE1vdW50LCBzbyBpdCdzIHNhZmUgdG9cbiAgICAgICAgICAgIC8vIHJlYWQgdGhlIGNoaWxkJ3MgcHJvcHMgaGVyZSAoYWxiZWl0IHdlaXJkKS5cbiAgICAgICAgICAgIGhvcml6b250YWw6ICEhY2hpbGRMaXN0LnJlZi5wcm9wcy5ob3Jpem9udGFsLFxuICAgICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zZXQoY2hpbGRMaXN0LmtleSwge1xuICAgICAgcmVmOiBjaGlsZExpc3QucmVmLFxuICAgICAgc3RhdGU6IG51bGwsXG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5faGFzSW50ZXJhY3RlZCkge1xuICAgICAgY2hpbGRMaXN0LnJlZi5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH1cbiAgfTtcblxuICBfdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAga2V5OiBzdHJpbmcsXG4gICAgc3RhdGU6IENoaWxkTGlzdFN0YXRlLFxuICAgIC4uLlxuICB9KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zZXQoY2hpbGRMaXN0LmtleSwge1xuICAgICAgcmVmOiBudWxsLFxuICAgICAgc3RhdGU6IGNoaWxkTGlzdC5zdGF0ZSxcbiAgICB9KTtcbiAgfTtcblxuICBzdGF0ZTogU3RhdGU7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGludmFyaWFudChcbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICFwcm9wcy5vblNjcm9sbCB8fCAhcHJvcHMub25TY3JvbGwuX19pc05hdGl2ZSxcbiAgICAgICdDb21wb25lbnRzIGJhc2VkIG9uIFZpcnR1YWxpemVkTGlzdCBtdXN0IGJlIHdyYXBwZWQgd2l0aCBBbmltYXRlZC5jcmVhdGVBbmltYXRlZENvbXBvbmVudCAnICtcbiAgICAgICAgJ3RvIHN1cHBvcnQgbmF0aXZlIG9uU2Nyb2xsIGV2ZW50cyB3aXRoIHVzZU5hdGl2ZURyaXZlcicsXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIHByb3BzLndpbmRvd1NpemUgPiAwLFxuICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogVGhlIHdpbmRvd1NpemUgcHJvcCBtdXN0IGJlIHByZXNlbnQgYW5kIHNldCB0byBhIHZhbHVlIGdyZWF0ZXIgdGhhbiAwLicsXG4gICAgKTtcblxuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyID0gbmV3IEZpbGxSYXRlSGVscGVyKHRoaXMuX2dldEZyYW1lTWV0cmljcyk7XG4gICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIgPSBuZXcgQmF0Y2hpbmF0b3IoXG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyLFxuICAgICAgdGhpcy5wcm9wcy51cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kLFxuICAgICk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy52aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMpIHtcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzID0gdGhpcy5wcm9wcy52aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMubWFwKFxuICAgICAgICBwYWlyID0+ICh7XG4gICAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBWaWV3YWJpbGl0eUhlbHBlcihwYWlyLnZpZXdhYmlsaXR5Q29uZmlnKSxcbiAgICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiBwYWlyLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCkge1xuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMucHVzaCh7XG4gICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIodGhpcy5wcm9wcy52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IHRoaXMucHJvcHMub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCBpbml0aWFsU3RhdGUgPSB7XG4gICAgICBmaXJzdDogdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggfHwgMCxcbiAgICAgIGxhc3Q6XG4gICAgICAgIE1hdGgubWluKFxuICAgICAgICAgIHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSksXG4gICAgICAgICAgKHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IDApICsgdGhpcy5wcm9wcy5pbml0aWFsTnVtVG9SZW5kZXIsXG4gICAgICAgICkgLSAxLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIGNvbnN0IHN0b3JlZFN0YXRlID0gdGhpcy5jb250ZXh0LmdldE5lc3RlZENoaWxkU3RhdGUodGhpcy5fZ2V0TGlzdEtleSgpKTtcbiAgICAgIGlmIChzdG9yZWRTdGF0ZSkge1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBzdG9yZWRTdGF0ZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0b3JlZFN0YXRlO1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSBzdG9yZWRTdGF0ZS5mcmFtZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICAga2V5OiB0aGlzLl9nZXRMaXN0S2V5KCksXG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgICAgLy8gTk9URTogV2hlbiB0aGUgY2hpbGQgbW91bnRzIChoZXJlKSBpdCdzIG5vdCBuZWNlc3NhcmlseSBzYWZlIHRvIHJlYWRcbiAgICAgICAgLy8gdGhlIHBhcmVudCdzIHByb3BzLiBUaGlzIGlzIHdoeSB3ZSBleHBsaWNpdGx5IHByb3BhZ2F0ZSBkZWJ1Z0luZm9cbiAgICAgICAgLy8gXCJkb3duXCIgdmlhIGNvbnRleHQgYW5kIFwidXBcIiBhZ2FpbiB2aWEgdGhpcyBtZXRob2QgY2FsbCBvbiB0aGVcbiAgICAgICAgLy8gcGFyZW50LlxuICAgICAgICBwYXJlbnREZWJ1Z0luZm86IHRoaXMuY29udGV4dC5kZWJ1Z0luZm8sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGtleTogdGhpcy5fZ2V0TGlzdEtleSgpLFxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgIGZpcnN0OiB0aGlzLnN0YXRlLmZpcnN0LFxuICAgICAgICAgIGxhc3Q6IHRoaXMuc3RhdGUubGFzdCxcbiAgICAgICAgICBmcmFtZXM6IHRoaXMuX2ZyYW1lcyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKG51bGwpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZGVhY3RpdmF0ZUFuZEZsdXNoKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSk6IFN0YXRlIHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50LCBtYXhUb1JlbmRlclBlckJhdGNofSA9IG5ld1Byb3BzO1xuICAgIC8vIGZpcnN0IGFuZCBsYXN0IGNvdWxkIGJlIHN0YWxlIChlLmcuIGlmIGEgbmV3LCBzaG9ydGVyIGl0ZW1zIHByb3BzIGlzIHBhc3NlZCBpbiksIHNvIHdlIG1ha2VcbiAgICAvLyBzdXJlIHdlJ3JlIHJlbmRlcmluZyBhIHJlYXNvbmFibGUgcmFuZ2UgaGVyZS5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICBNYXRoLm1pbihwcmV2U3RhdGUuZmlyc3QsIGdldEl0ZW1Db3VudChkYXRhKSAtIDEgLSBtYXhUb1JlbmRlclBlckJhdGNoKSxcbiAgICAgICksXG4gICAgICBsYXN0OiBNYXRoLm1heCgwLCBNYXRoLm1pbihwcmV2U3RhdGUubGFzdCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSkpLFxuICAgIH07XG4gIH1cblxuICBfcHVzaENlbGxzKFxuICAgIGNlbGxzOiBBcnJheTxPYmplY3Q+LFxuICAgIHN0aWNreUhlYWRlckluZGljZXM6IEFycmF5PG51bWJlcj4sXG4gICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wczogU2V0PG51bWJlcj4sXG4gICAgZmlyc3Q6IG51bWJlcixcbiAgICBsYXN0OiBudW1iZXIsXG4gICAgaW52ZXJzaW9uU3R5bGU6IFZpZXdTdHlsZVByb3AsXG4gICkge1xuICAgIGNvbnN0IHtcbiAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudCxcbiAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQsXG4gICAgICBkYXRhLFxuICAgICAgZ2V0SXRlbSxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIGhvcml6b250YWwsXG4gICAgICBrZXlFeHRyYWN0b3IsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qgc3RpY2t5T2Zmc2V0ID0gdGhpcy5wcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgY29uc3QgZW5kID0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMTtcbiAgICBsZXQgcHJldkNlbGxLZXk7XG4gICAgbGFzdCA9IE1hdGgubWluKGVuZCwgbGFzdCk7XG4gICAgZm9yIChsZXQgaWkgPSBmaXJzdDsgaWkgPD0gbGFzdDsgaWkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaWkpO1xuICAgICAgY29uc3Qga2V5ID0ga2V5RXh0cmFjdG9yKGl0ZW0sIGlpKTtcbiAgICAgIHRoaXMuX2luZGljZXNUb0tleXMuc2V0KGlpLCBrZXkpO1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goY2VsbHMubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxDZWxsUmVuZGVyZXJcbiAgICAgICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQ9e0NlbGxSZW5kZXJlckNvbXBvbmVudH1cbiAgICAgICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50PXtpaSA8IGVuZCA/IEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgOiB1bmRlZmluZWR9XG4gICAgICAgICAgY2VsbEtleT17a2V5fVxuICAgICAgICAgIGZpbGxSYXRlSGVscGVyPXt0aGlzLl9maWxsUmF0ZUhlbHBlcn1cbiAgICAgICAgICBob3Jpem9udGFsPXtob3Jpem9udGFsfVxuICAgICAgICAgIGluZGV4PXtpaX1cbiAgICAgICAgICBpbnZlcnNpb25TdHlsZT17aW52ZXJzaW9uU3R5bGV9XG4gICAgICAgICAgaXRlbT17aXRlbX1cbiAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICBwcmV2Q2VsbEtleT17cHJldkNlbGxLZXl9XG4gICAgICAgICAgb25VcGRhdGVTZXBhcmF0b3JzPXt0aGlzLl9vblVwZGF0ZVNlcGFyYXRvcnN9XG4gICAgICAgICAgb25MYXlvdXQ9e2UgPT4gdGhpcy5fb25DZWxsTGF5b3V0KGUsIGtleSwgaWkpfVxuICAgICAgICAgIG9uVW5tb3VudD17dGhpcy5fb25DZWxsVW5tb3VudH1cbiAgICAgICAgICBwYXJlbnRQcm9wcz17dGhpcy5wcm9wc31cbiAgICAgICAgICByZWY9e3JlZiA9PiB7XG4gICAgICAgICAgICB0aGlzLl9jZWxsUmVmc1trZXldID0gcmVmO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+LFxuICAgICAgKTtcbiAgICAgIHByZXZDZWxsS2V5ID0ga2V5O1xuICAgIH1cbiAgfVxuXG4gIF9vblVwZGF0ZVNlcGFyYXRvcnMgPSAoa2V5czogQXJyYXk8P3N0cmluZz4sIG5ld1Byb3BzOiBPYmplY3QpID0+IHtcbiAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnN0IHJlZiA9IGtleSAhPSBudWxsICYmIHRoaXMuX2NlbGxSZWZzW2tleV07XG4gICAgICByZWYgJiYgcmVmLnVwZGF0ZVNlcGFyYXRvclByb3BzKG5ld1Byb3BzKTtcbiAgICB9KTtcbiAgfTtcblxuICBfaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRpc2FibGVWaXJ0dWFsaXphdGlvbiB8fCBmYWxzZTtcbiAgfVxuXG4gIF9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbmVzdGVkQ29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICByZXR1cm4gISEoXG4gICAgICBuZXN0ZWRDb250ZXh0ICYmICEhbmVzdGVkQ29udGV4dC5ob3Jpem9udGFsID09PSAhIXRoaXMucHJvcHMuaG9yaXpvbnRhbFxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGNvbnN0IGZsYXRTdHlsZXMgPSBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5jb250ZW50Q29udGFpbmVyU3R5bGUpO1xuICAgICAgaWYgKGZsYXRTdHlsZXMgIT0gbnVsbCAmJiBmbGF0U3R5bGVzLmZsZXhXcmFwID09PSAnd3JhcCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdgZmxleFdyYXA6IGB3cmFwYGAgaXMgbm90IHN1cHBvcnRlZCB3aXRoIHRoZSBgVmlydHVhbGl6ZWRMaXN0YCBjb21wb25lbnRzLicgK1xuICAgICAgICAgICAgJ0NvbnNpZGVyIHVzaW5nIGBudW1Db2x1bW5zYCB3aXRoIGBGbGF0TGlzdGAgaW5zdGVhZC4nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBMaXN0RW1wdHlDb21wb25lbnQsXG4gICAgICBMaXN0Rm9vdGVyQ29tcG9uZW50LFxuICAgICAgTGlzdEhlYWRlckNvbXBvbmVudCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7ZGF0YSwgaG9yaXpvbnRhbH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuICAgIGNvbnN0IGludmVyc2lvblN0eWxlID0gdGhpcy5wcm9wcy5pbnZlcnRlZFxuICAgICAgPyB0aGlzLnByb3BzLmhvcml6b250YWxcbiAgICAgICAgPyBzdHlsZXMuaG9yaXpvbnRhbGx5SW52ZXJ0ZWRcbiAgICAgICAgOiBzdHlsZXMudmVydGljYWxseUludmVydGVkXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY2VsbHMgPSBbXTtcbiAgICBjb25zdCBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlckluZGljZXMgPSBbXTtcbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0SGVhZGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICA8TGlzdEhlYWRlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1oZWFkZXInfVxuICAgICAgICAgIGtleT1cIiRoZWFkZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0SGVhZGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgX3VzZWRJbmRleEZvcktleSA9IGZhbHNlO1xuICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9ICcnO1xuICAgICAgY29uc3Qgc3BhY2VyS2V5ID0gIWhvcml6b250YWwgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICBjb25zdCBsYXN0SW5pdGlhbEluZGV4ID0gdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXhcbiAgICAgICAgPyAtMVxuICAgICAgICA6IHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyIC0gMTtcbiAgICAgIGNvbnN0IHtmaXJzdCwgbGFzdH0gPSB0aGlzLnN0YXRlO1xuICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICBjZWxscyxcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgMCxcbiAgICAgICAgbGFzdEluaXRpYWxJbmRleCxcbiAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICApO1xuICAgICAgY29uc3QgZmlyc3RBZnRlckluaXRpYWwgPSBNYXRoLm1heChsYXN0SW5pdGlhbEluZGV4ICsgMSwgZmlyc3QpO1xuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgJiYgZmlyc3QgPiBsYXN0SW5pdGlhbEluZGV4ICsgMSkge1xuICAgICAgICBsZXQgaW5zZXJ0ZWRTdGlja3lTcGFjZXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBMaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgICAgICAgLy8gU2VlIGlmIHRoZXJlIGFyZSBhbnkgc3RpY2t5IGhlYWRlcnMgaW4gdGhlIHZpcnR1YWxpemVkIHNwYWNlIHRoYXQgd2UgbmVlZCB0byByZW5kZXIuXG4gICAgICAgICAgZm9yIChsZXQgaWkgPSBmaXJzdEFmdGVySW5pdGlhbCAtIDE7IGlpID4gbGFzdEluaXRpYWxJbmRleDsgaWktLSkge1xuICAgICAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICAgICAgICBjb25zdCBpbml0QmxvY2sgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdEluaXRpYWxJbmRleCk7XG4gICAgICAgICAgICAgIGNvbnN0IHN0aWNreUJsb2NrID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGlpKTtcbiAgICAgICAgICAgICAgY29uc3QgbGVhZFNwYWNlID1cbiAgICAgICAgICAgICAgICBzdGlja3lCbG9jay5vZmZzZXQgLVxuICAgICAgICAgICAgICAgIGluaXRCbG9jay5vZmZzZXQgLVxuICAgICAgICAgICAgICAgICh0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA/IDAgOiBpbml0QmxvY2subGVuZ3RoKTtcbiAgICAgICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC4xMTEuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50XG4gICAgICAgICAgICAgICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuMTExIHdhcyBkZXBsb3llZC4gVG9cbiAgICAgICAgICAgICAgICAgKiBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgICAgICAgICA8VmlldyBrZXk9XCIkc3RpY2t5X2xlYWRcIiBzdHlsZT17e1tzcGFjZXJLZXldOiBsZWFkU3BhY2V9fSAvPixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICAgICAgICAgIGNlbGxzLFxuICAgICAgICAgICAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICAgICAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgICAgICAgICBpaSxcbiAgICAgICAgICAgICAgICBpaSxcbiAgICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgdHJhaWxTcGFjZSA9XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQgLVxuICAgICAgICAgICAgICAgIChzdGlja3lCbG9jay5vZmZzZXQgKyBzdGlja3lCbG9jay5sZW5ndGgpO1xuICAgICAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjExMS4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnRcbiAgICAgICAgICAgICAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUb1xuICAgICAgICAgICAgICAgICAqIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgICAgICAgIDxWaWV3IGtleT1cIiRzdGlja3lfdHJhaWxcIiBzdHlsZT17e1tzcGFjZXJLZXldOiB0cmFpbFNwYWNlfX0gLz4sXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGluc2VydGVkU3RpY2t5U3BhY2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaW5zZXJ0ZWRTdGlja3lTcGFjZXIpIHtcbiAgICAgICAgICBjb25zdCBpbml0QmxvY2sgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdEluaXRpYWxJbmRleCk7XG4gICAgICAgICAgY29uc3QgZmlyc3RTcGFjZSA9XG4gICAgICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldCAtXG4gICAgICAgICAgICAoaW5pdEJsb2NrLm9mZnNldCArIGluaXRCbG9jay5sZW5ndGgpO1xuICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC4xMTEuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50XG4gICAgICAgICAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUbyBzZWVcbiAgICAgICAgICAgICAqIHRoZSBlcnJvciwgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICAgICAgICA8VmlldyBrZXk9XCIkbGVhZF9zcGFjZXJcIiBzdHlsZT17e1tzcGFjZXJLZXldOiBmaXJzdFNwYWNlfX0gLz4sXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICBjZWxscyxcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgZmlyc3RBZnRlckluaXRpYWwsXG4gICAgICAgIGxhc3QsXG4gICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgKTtcbiAgICAgIGlmICghdGhpcy5faGFzV2FybmVkLmtleXMgJiYgX3VzZWRJbmRleEZvcktleSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogbWlzc2luZyBrZXlzIGZvciBpdGVtcywgbWFrZSBzdXJlIHRvIHNwZWNpZnkgYSBrZXkgb3IgaWQgcHJvcGVydHkgb24gZWFjaCAnICtcbiAgICAgICAgICAgICdpdGVtIG9yIHByb3ZpZGUgYSBjdXN0b20ga2V5RXh0cmFjdG9yLicsXG4gICAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmtleXMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFpc1ZpcnR1YWxpemF0aW9uRGlzYWJsZWQgJiYgbGFzdCA8IGl0ZW1Db3VudCAtIDEpIHtcbiAgICAgICAgY29uc3QgbGFzdEZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3QpO1xuICAgICAgICAvLyBXaXRob3V0IGdldEl0ZW1MYXlvdXQsIHdlIGxpbWl0IG91ciB0YWlsIHNwYWNlciB0byB0aGUgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggdG9cbiAgICAgICAgLy8gcHJldmVudCB0aGUgdXNlciBmb3IgaHlwZXJzY3JvbGxpbmcgaW50byB1bi1tZWFzdXJlZCBhcmVhIGJlY2F1c2Ugb3RoZXJ3aXNlIGNvbnRlbnQgd2lsbFxuICAgICAgICAvLyBsaWtlbHkganVtcCBhcm91bmQgYXMgaXQgcmVuZGVycyBpbiBhYm92ZSB0aGUgdmlld3BvcnQuXG4gICAgICAgIGNvbnN0IGVuZCA9IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dFxuICAgICAgICAgID8gaXRlbUNvdW50IC0gMVxuICAgICAgICAgIDogTWF0aC5taW4oaXRlbUNvdW50IC0gMSwgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCk7XG4gICAgICAgIGNvbnN0IGVuZEZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGVuZCk7XG4gICAgICAgIGNvbnN0IHRhaWxTcGFjZXJMZW5ndGggPVxuICAgICAgICAgIGVuZEZyYW1lLm9mZnNldCArXG4gICAgICAgICAgZW5kRnJhbWUubGVuZ3RoIC1cbiAgICAgICAgICAobGFzdEZyYW1lLm9mZnNldCArIGxhc3RGcmFtZS5sZW5ndGgpO1xuICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjExMS4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3Nlc1xuICAgICAgICAgICAqIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLFxuICAgICAgICAgICAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgIDxWaWV3IGtleT1cIiR0YWlsX3NwYWNlclwiIHN0eWxlPXt7W3NwYWNlcktleV06IHRhaWxTcGFjZXJMZW5ndGh9fSAvPixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKExpc3RFbXB0eUNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudDogUmVhY3QuRWxlbWVudDxhbnk+ID0gKChSZWFjdC5pc1ZhbGlkRWxlbWVudChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50LFxuICAgICAgKSA/IChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIDxMaXN0RW1wdHlDb21wb25lbnQgLz5cbiAgICAgICkpOiBhbnkpO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KGVsZW1lbnQsIHtcbiAgICAgICAgICBrZXk6ICckZW1wdHknLFxuICAgICAgICAgIG9uTGF5b3V0OiBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkxheW91dEVtcHR5KGV2ZW50KTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQucHJvcHMub25MYXlvdXQoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShpbnZlcnNpb25TdHlsZSwgZWxlbWVudC5wcm9wcy5zdHlsZSksXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKExpc3RGb290ZXJDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0Rm9vdGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICA8TGlzdEZvb3RlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Rm9vdGVyQ2VsbEtleSgpfVxuICAgICAgICAgIGtleT1cIiRmb290ZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0Rm9vdGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWUgLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzY3JvbGxQcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiB0aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX29uTGF5b3V0LFxuICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX29uU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9vblNjcm9sbEVuZERyYWcsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLCAvLyBUT0RPOiBBbmRyb2lkIHN1cHBvcnRcbiAgICAgIGludmVydFN0aWNreUhlYWRlcnM6XG4gICAgICAgIHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnNcbiAgICAgICAgICA6IHRoaXMucHJvcHMuaW52ZXJ0ZWQsXG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgc3R5bGU6IGludmVyc2lvblN0eWxlXG4gICAgICAgID8gW2ludmVyc2lvblN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXVxuICAgICAgICA6IHRoaXMucHJvcHMuc3R5bGUsXG4gICAgfTtcblxuICAgIHRoaXMuX2hhc01vcmUgPVxuICAgICAgdGhpcy5zdGF0ZS5sYXN0IDwgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSAtIDE7XG5cbiAgICBjb25zdCBpbm5lclJldCA9IChcbiAgICAgIDxWaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICBjZWxsS2V5OiBudWxsLFxuICAgICAgICAgIGdldFNjcm9sbE1ldHJpY3M6IHRoaXMuX2dldFNjcm9sbE1ldHJpY3MsXG4gICAgICAgICAgaG9yaXpvbnRhbDogdGhpcy5wcm9wcy5ob3Jpem9udGFsLFxuICAgICAgICAgIGdldE91dGVybW9zdFBhcmVudExpc3RSZWY6IHRoaXMuX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYsXG4gICAgICAgICAgZ2V0TmVzdGVkQ2hpbGRTdGF0ZTogdGhpcy5fZ2V0TmVzdGVkQ2hpbGRTdGF0ZSxcbiAgICAgICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IHRoaXMuX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgICAgZGVidWdJbmZvOiB0aGlzLl9nZXREZWJ1Z0luZm8oKSxcbiAgICAgICAgfX0+XG4gICAgICAgIHtSZWFjdC5jbG9uZUVsZW1lbnQoXG4gICAgICAgICAgKFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5yZW5kZXJTY3JvbGxDb21wb25lbnQgfHxcbiAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnRcbiAgICAgICAgICApKHNjcm9sbFByb3BzKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZWY6IHRoaXMuX2NhcHR1cmVTY3JvbGxSZWYsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjZWxscyxcbiAgICAgICAgKX1cbiAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyPlxuICAgICk7XG4gICAgbGV0IHJldCA9IGlubmVyUmV0O1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICByZXQgPSAoXG4gICAgICAgIDxTY3JvbGxWaWV3LkNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgICAge3Njcm9sbENvbnRleHQgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzY3JvbGxDb250ZXh0ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIXNjcm9sbENvbnRleHQuaG9yaXpvbnRhbCA9PT0gIXRoaXMucHJvcHMuaG9yaXpvbnRhbCAmJlxuICAgICAgICAgICAgICAhdGhpcy5faGFzV2FybmVkLm5lc3RpbmcgJiZcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID09IG51bGxcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvLyBUT0RPIChUNDY1NDcwNDQpOiB1c2UgUmVhY3Qud2FybiBvbmNlIDE2LjkgaXMgc3luYydkOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8xNTE3MFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3RzIHNob3VsZCBuZXZlciBiZSBuZXN0ZWQgaW5zaWRlIHBsYWluIFNjcm9sbFZpZXdzIHdpdGggdGhlIHNhbWUgJyArXG4gICAgICAgICAgICAgICAgICAnb3JpZW50YXRpb24gYmVjYXVzZSBpdCBjYW4gYnJlYWsgd2luZG93aW5nIGFuZCBvdGhlciBmdW5jdGlvbmFsaXR5IC0gdXNlIGFub3RoZXIgJyArXG4gICAgICAgICAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0LWJhY2tlZCBjb250YWluZXIgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLl9oYXNXYXJuZWQubmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5uZXJSZXQ7XG4gICAgICAgICAgfX1cbiAgICAgICAgPC9TY3JvbGxWaWV3LkNvbnRleHQuQ29uc3VtZXI+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5kZWJ1Zykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5kZWJ1Z30+XG4gICAgICAgICAge3JldH1cbiAgICAgICAgICB7dGhpcy5fcmVuZGVyRGVidWdPdmVybGF5KCl9XG4gICAgICAgIDwvVmlldz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCB7ZGF0YSwgZXh0cmFEYXRhfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGRhdGEgIT09IHByZXZQcm9wcy5kYXRhIHx8IGV4dHJhRGF0YSAhPT0gcHJldlByb3BzLmV4dHJhRGF0YSkge1xuICAgICAgLy8gY2xlYXIgdGhlIHZpZXdhYmxlSW5kaWNlcyBjYWNoZSB0byBhbHNvIHRyaWdnZXJcbiAgICAgIC8vIHRoZSBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIGNhbGxiYWNrIHdpdGggdGhlIG5ldyBkYXRhXG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVzZXRWaWV3YWJsZUluZGljZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBUaGUgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgaXMgZ3VhcmFudGVlaW5nIGEgaGlQcmkgY2VsbCB1cGRhdGUgd2lsbCBvbmx5IGhhcHBlblxuICAgIC8vIG9uY2UgcGVyIGZpYmVyIHVwZGF0ZS4gVGhlIGBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlYCB3aWxsIHNldCBpdCB0byB0cnVlXG4gICAgLy8gaWYgYSBoaVByaSB1cGRhdGUgbmVlZHMgdG8gcGVyZm9ybS4gSWYgYGNvbXBvbmVudERpZFVwZGF0ZWAgaXMgdHJpZ2dlcmVkIHdpdGhcbiAgICAvLyBgdGhpcy5faGlQcmlJblByb2dyZXNzPXRydWVgLCBtZWFucyBpdCdzIHRyaWdnZXJlZCBieSB0aGUgaGlQcmkgdXBkYXRlLiBUaGVcbiAgICAvLyBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBjaGVjayB0aGlzIGNvbmRpdGlvbiBhbmQgbm90IHBlcmZvcm1cbiAgICAvLyBhbm90aGVyIGhpUHJpIHVwZGF0ZS5cbiAgICBjb25zdCBoaVByaUluUHJvZ3Jlc3MgPSB0aGlzLl9oaVByaUluUHJvZ3Jlc3M7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgLy8gTWFrZSBzdXJlIHNldHRpbmcgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgYmFjayB0byBmYWxzZSBhZnRlciBgY29tcG9uZW50RGlkVXBkYXRlYFxuICAgIC8vIGlzIHRyaWdnZXJlZCB3aXRoIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSB0cnVlYFxuICAgIGlmIChoaVByaUluUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9hdmVyYWdlQ2VsbExlbmd0aCA9IDA7XG4gIC8vIE1hcHMgYSBjZWxsIGtleSB0byB0aGUgc2V0IG9mIGtleXMgZm9yIGFsbCBvdXRlcm1vc3QgY2hpbGQgbGlzdHMgd2l0aGluIHRoYXQgY2VsbFxuICBfY2VsbEtleXNUb0NoaWxkTGlzdEtleXM6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PiA9IG5ldyBNYXAoKTtcbiAgX2NlbGxSZWZzID0ge307XG4gIF9maWxsUmF0ZUhlbHBlcjogRmlsbFJhdGVIZWxwZXI7XG4gIF9mcmFtZXMgPSB7fTtcbiAgX2Zvb3Rlckxlbmd0aCA9IDA7XG4gIF9oYXNEb25lSW5pdGlhbFNjcm9sbCA9IGZhbHNlO1xuICBfaGFzSW50ZXJhY3RlZCA9IGZhbHNlO1xuICBfaGFzTW9yZSA9IGZhbHNlO1xuICBfaGFzV2FybmVkID0ge307XG4gIF9oZWFkZXJMZW5ndGggPSAwO1xuICBfaGlQcmlJblByb2dyZXNzOiBib29sZWFuID0gZmFsc2U7IC8vIGZsYWcgdG8gcHJldmVudCBpbmZpbml0ZSBoaVByaSBjZWxsIGxpbWl0IHVwZGF0ZVxuICBfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCA9IDA7XG4gIF9pbmRpY2VzVG9LZXlzOiBNYXA8bnVtYmVyLCBzdHJpbmc+ID0gbmV3IE1hcCgpO1xuICBfbmVzdGVkQ2hpbGRMaXN0czogTWFwPFxuICAgIHN0cmluZyxcbiAgICB7XG4gICAgICByZWY6ID9WaXJ0dWFsaXplZExpc3QsXG4gICAgICBzdGF0ZTogP0NoaWxkTGlzdFN0YXRlLFxuICAgICAgLi4uXG4gICAgfSxcbiAgPiA9IG5ldyBNYXAoKTtcbiAgX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q6IG51bWJlciA9IDA7XG4gIF9wcmV2UGFyZW50T2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfc2Nyb2xsTWV0cmljcyA9IHtcbiAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgIGRPZmZzZXQ6IDAsXG4gICAgZHQ6IDEwLFxuICAgIG9mZnNldDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgdmVsb2NpdHk6IDAsXG4gICAgdmlzaWJsZUxlbmd0aDogMCxcbiAgfTtcbiAgX3Njcm9sbFJlZjogP1JlYWN0LkVsZW1lbnRSZWY8YW55PiA9IG51bGw7XG4gIF9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF90b3RhbENlbGxMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsc01lYXN1cmVkID0gMDtcbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyOiBCYXRjaGluYXRvcjtcbiAgX3ZpZXdhYmlsaXR5VHVwbGVzOiBBcnJheTxWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGU+ID0gW107XG5cbiAgX2NhcHR1cmVTY3JvbGxSZWYgPSByZWYgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgfTtcblxuICBfY29tcHV0ZUJsYW5rbmVzcygpIHtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5jb21wdXRlQmxhbmtuZXNzKFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICAgIHRoaXMuc3RhdGUsXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLFxuICAgICk7XG4gIH1cblxuICBfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgICBjb25zdCBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2g7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgcmV0dXJuIDxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfSBlbHNlIGlmIChvblJlZnJlc2gpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHByb3BzLnJlZnJlc2hpbmcgPT09ICdib29sZWFuJyxcbiAgICAgICAgJ2ByZWZyZXNoaW5nYCBwcm9wIG11c3QgYmUgc2V0IGFzIGEgYm9vbGVhbiBpbiBvcmRlciB0byB1c2UgYG9uUmVmcmVzaGAsIGJ1dCBnb3QgYCcgK1xuICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjExMS4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3Nlc1xuICAgICAgICAgICAqIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLFxuICAgICAgICAgICAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3BzLnJlZnJlc2hpbmcpICtcbiAgICAgICAgICAnYCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgPFNjcm9sbFZpZXdcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgcmVmcmVzaENvbnRyb2w9e1xuICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2wgPT0gbnVsbCA/IChcbiAgICAgICAgICAgICAgPFJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZz17cHJvcHMucmVmcmVzaGluZ31cbiAgICAgICAgICAgICAgICBvblJlZnJlc2g9e29uUmVmcmVzaH1cbiAgICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ9e3Byb3BzLnByb2dyZXNzVmlld09mZnNldH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgIHJldHVybiA8U2Nyb2xsVmlldyB7Li4ucHJvcHN9IC8+O1xuICAgIH1cbiAgfTtcblxuICBfb25DZWxsTGF5b3V0KGUsIGNlbGxLZXksIGluZGV4KSB7XG4gICAgY29uc3QgbGF5b3V0ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgY29uc3QgbmV4dCA9IHtcbiAgICAgIG9mZnNldDogdGhpcy5fc2VsZWN0T2Zmc2V0KGxheW91dCksXG4gICAgICBsZW5ndGg6IHRoaXMuX3NlbGVjdExlbmd0aChsYXlvdXQpLFxuICAgICAgaW5kZXgsXG4gICAgICBpbkxheW91dDogdHJ1ZSxcbiAgICB9O1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLl9mcmFtZXNbY2VsbEtleV07XG4gICAgaWYgKFxuICAgICAgIWN1cnIgfHxcbiAgICAgIG5leHQub2Zmc2V0ICE9PSBjdXJyLm9mZnNldCB8fFxuICAgICAgbmV4dC5sZW5ndGggIT09IGN1cnIubGVuZ3RoIHx8XG4gICAgICBpbmRleCAhPT0gY3Vyci5pbmRleFxuICAgICkge1xuICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoICs9IG5leHQubGVuZ3RoIC0gKGN1cnIgPyBjdXJyLmxlbmd0aCA6IDApO1xuICAgICAgdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkICs9IGN1cnIgPyAwIDogMTtcbiAgICAgIHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoID1cbiAgICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoIC8gdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkO1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gbmV4dDtcbiAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSBNYXRoLm1heChcbiAgICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICApO1xuICAgICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XS5pbkxheW91dCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleSk7XG5cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLmRhdGEpO1xuICB9XG5cbiAgX29uQ2VsbFVubW91bnQgPSAoY2VsbEtleTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY3VyciA9IHRoaXMuX2ZyYW1lc1tjZWxsS2V5XTtcbiAgICBpZiAoY3Vycikge1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gey4uLmN1cnIsIGluTGF5b3V0OiBmYWxzZX07XG4gICAgfVxuICB9O1xuXG4gIF90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbChjZWxsS2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBjaGlsZExpc3RLZXlzID0gdGhpcy5fY2VsbEtleXNUb0NoaWxkTGlzdEtleXMuZ2V0KGNlbGxLZXkpO1xuICAgIGlmIChjaGlsZExpc3RLZXlzKSB7XG4gICAgICBmb3IgKGxldCBjaGlsZEtleSBvZiBjaGlsZExpc3RLZXlzKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkTGlzdCA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGNoaWxkS2V5KTtcbiAgICAgICAgY2hpbGRMaXN0ICYmXG4gICAgICAgICAgY2hpbGRMaXN0LnJlZiAmJlxuICAgICAgICAgIGNoaWxkTGlzdC5yZWYubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTogdm9pZCB7XG4gICAgLy8gVE9ETyAoVDM1NTc0NTM4KTogZmluZE5vZGVIYW5kbGUgc29tZXRpbWVzIGNyYXNoZXMgd2l0aCBcIlVuYWJsZSB0byBmaW5kXG4gICAgLy8gbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50XCIgZHVyaW5nIHNjcm9sbGluZ1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMuX3Njcm9sbFJlZikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBXZSBhcmUgYXNzdW1pbmcgdGhhdCBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCkuZ2V0U2Nyb2xsUmVmKClcbiAgICAgIC8vIGlzIGEgbm9uLW51bGwgcmVmZXJlbmNlIHRvIGEgU2Nyb2xsVmlld1xuICAgICAgdGhpcy5fc2Nyb2xsUmVmLm1lYXN1cmVMYXlvdXQoXG4gICAgICAgIHRoaXMuY29udGV4dC5nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCkuZ2V0U2Nyb2xsUmVmKCksXG4gICAgICAgICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgICAgICAgdGhpcy5fb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCA9IHRoaXMuX3NlbGVjdE9mZnNldCh7eCwgeX0pO1xuICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aCh7XG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBzY3JvbGxNZXRyaWNzID0gdGhpcy5fY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MoXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2V0U2Nyb2xsTWV0cmljcygpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ID0gc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIlZpcnR1YWxpemVkTGlzdDogRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgbWVhc3VyaW5nIGEgbGlzdCdzXCIgK1xuICAgICAgICAgICAgICAnIG9mZnNldCBmcm9tIGl0cyBjb250YWluaW5nIFZpcnR1YWxpemVkTGlzdC4nLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IHRocmV3IGFuIGVycm9yJyxcbiAgICAgICAgZXJyb3Iuc3RhY2ssXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9vbkxheW91dCA9IChlOiBPYmplY3QpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIC8vIE5lZWQgdG8gYWRqdXN0IG91ciBzY3JvbGwgbWV0cmljcyB0byBiZSByZWxhdGl2ZSB0byBvdXIgY29udGFpbmluZ1xuICAgICAgLy8gVmlydHVhbGl6ZWRMaXN0IGJlZm9yZSB3ZSBjYW4gbWFrZSBjbGFpbXMgYWJvdXQgbGlzdCBpdGVtIHZpZXdhYmlsaXR5XG4gICAgICB0aGlzLm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKFxuICAgICAgICBlLm5hdGl2ZUV2ZW50LmxheW91dCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgfTtcblxuICBfb25MYXlvdXRFbXB0eSA9IGUgPT4ge1xuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgfTtcblxuICBfZ2V0Rm9vdGVyQ2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl9nZXRDZWxsS2V5KCkgKyAnLWZvb3Rlcic7XG4gIH1cblxuICBfb25MYXlvdXRGb290ZXIgPSBlID0+IHtcbiAgICB0aGlzLl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbCh0aGlzLl9nZXRGb290ZXJDZWxsS2V5KCkpO1xuICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgX29uTGF5b3V0SGVhZGVyID0gZSA9PiB7XG4gICAgdGhpcy5faGVhZGVyTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0KTtcbiAgfTtcblxuICBfcmVuZGVyRGVidWdPdmVybGF5KCkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggL1xuICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCB8fCAxKTtcbiAgICBjb25zdCBmcmFtZXNJbkxheW91dCA9IFtdO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goaWkpO1xuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjguMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42OCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXNcbiAgICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgaWYgKGZyYW1lLmluTGF5b3V0KSB7XG4gICAgICAgIGZyYW1lc0luTGF5b3V0LnB1c2goZnJhbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3aW5kb3dUb3AgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3godGhpcy5zdGF0ZS5maXJzdCkub2Zmc2V0O1xuICAgIGNvbnN0IGZyYW1lTGFzdCA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCh0aGlzLnN0YXRlLmxhc3QpO1xuICAgIGNvbnN0IHdpbmRvd0xlbiA9IGZyYW1lTGFzdC5vZmZzZXQgKyBmcmFtZUxhc3QubGVuZ3RoIC0gd2luZG93VG9wO1xuICAgIGNvbnN0IHZpc1RvcCA9IHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IHZpc0xlbiA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyBzdHlsZT17W3N0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLCBzdHlsZXMuZGVidWdPdmVybGF5XX0+XG4gICAgICAgIHtmcmFtZXNJbkxheW91dC5tYXAoKGYsIGlpKSA9PiAoXG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIGtleT17J2YnICsgaWl9XG4gICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9wOiBmLm9mZnNldCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGYubGVuZ3RoICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVMYXN0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHdpbmRvd1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3dMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lVmlzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHZpc1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB2aXNMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcbiAgfVxuXG4gIF9zZWxlY3RMZW5ndGgoXG4gICAgbWV0cmljczogJFJlYWRPbmx5PHtcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIC4uLlxuICAgIH0+LFxuICApOiBudW1iZXIge1xuICAgIHJldHVybiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsID8gbWV0cmljcy5oZWlnaHQgOiBtZXRyaWNzLndpZHRoO1xuICB9XG5cbiAgX3NlbGVjdE9mZnNldChcbiAgICBtZXRyaWNzOiAkUmVhZE9ubHk8e1xuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgLi4uXG4gICAgfT4sXG4gICk6IG51bWJlciB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmhvcml6b250YWwgPyBtZXRyaWNzLnkgOiBtZXRyaWNzLng7XG4gIH1cblxuICBfbWF5YmVDYWxsT25FbmRSZWFjaGVkKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBvbkVuZFJlYWNoZWQsXG4gICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2NvbnRlbnRMZW5ndGgsIHZpc2libGVMZW5ndGgsIG9mZnNldH0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IG9uRW5kUmVhY2hlZFRocmVzaG9sZFxuICAgICAgPyBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICA6IDI7XG4gICAgaWYgKFxuICAgICAgb25FbmRSZWFjaGVkICYmXG4gICAgICB0aGlzLnN0YXRlLmxhc3QgPT09IGdldEl0ZW1Db3VudChkYXRhKSAtIDEgJiZcbiAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IHRocmVzaG9sZCAmJlxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoICE9PSB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aFxuICAgICkge1xuICAgICAgLy8gT25seSBjYWxsIG9uRW5kUmVhY2hlZCBvbmNlIGZvciBhIGdpdmVuIGNvbnRlbnQgbGVuZ3RoXG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aDtcbiAgICAgIG9uRW5kUmVhY2hlZCh7ZGlzdGFuY2VGcm9tRW5kfSk7XG4gICAgfSBlbHNlIGlmIChkaXN0YW5jZUZyb21FbmQgPiB0aHJlc2hvbGQpIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHNjcm9sbHMgYXdheSBmcm9tIHRoZSBlbmQgYW5kIGJhY2sgYWdhaW4gY2F1c2VcbiAgICAgIC8vIGFuIG9uRW5kUmVhY2hlZCB0byBiZSB0cmlnZ2VyZWQgYWdhaW5cbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgICB9XG4gIH1cblxuICBfb25Db250ZW50U2l6ZUNoYW5nZSA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIGlmIChcbiAgICAgIHdpZHRoID4gMCAmJlxuICAgICAgaGVpZ2h0ID4gMCAmJlxuICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggIT0gbnVsbCAmJlxuICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwICYmXG4gICAgICAhdGhpcy5faGFzRG9uZUluaXRpYWxTY3JvbGxcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoe1xuICAgICAgICAgIGFuaW1hdGVkOiBmYWxzZSxcbiAgICAgICAgICBpbmRleDogdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXgsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5faGFzRG9uZUluaXRpYWxTY3JvbGwgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2Uod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aCh7aGVpZ2h0LCB3aWR0aH0pO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIHRoaXMuX21heWJlQ2FsbE9uRW5kUmVhY2hlZCgpO1xuICB9O1xuXG4gIC8qIFRyYW5zbGF0ZXMgbWV0cmljcyBmcm9tIGEgc2Nyb2xsIGV2ZW50IGluIGEgcGFyZW50IFZpcnR1YWxpemVkTGlzdCBpbnRvXG4gICAqIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSBjaGlsZCBsaXN0LlxuICAgKi9cbiAgX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzID0gKG1ldHJpY3M6IHtcbiAgICB2aXNpYmxlTGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pID0+IHtcbiAgICAvLyBPZmZzZXQgb2YgdGhlIHRvcCBvZiB0aGUgbmVzdGVkIGxpc3QgcmVsYXRpdmUgdG8gdGhlIHRvcCBvZiBpdHMgcGFyZW50J3Mgdmlld3BvcnRcbiAgICBjb25zdCBvZmZzZXQgPSBtZXRyaWNzLm9mZnNldCAtIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q7XG4gICAgLy8gQ2hpbGQncyB2aXNpYmxlIGxlbmd0aCBpcyB0aGUgc2FtZSBhcyBpdHMgcGFyZW50J3NcbiAgICBjb25zdCB2aXNpYmxlTGVuZ3RoID0gbWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgIGNvbnN0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgb2Zmc2V0LFxuICAgICAgZE9mZnNldCxcbiAgICB9O1xuICB9O1xuXG4gIF9vblNjcm9sbCA9IChlOiBPYmplY3QpID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5fb25TY3JvbGwoZSk7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMucHJvcHMub25TY3JvbGwpIHtcbiAgICAgIHRoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IGUudGltZVN0YW1wO1xuICAgIGxldCB2aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0TWVhc3VyZW1lbnQpO1xuICAgIGxldCBjb250ZW50TGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQuY29udGVudFNpemUpO1xuICAgIGxldCBvZmZzZXQgPSB0aGlzLl9zZWxlY3RPZmZzZXQoZS5uYXRpdmVFdmVudC5jb250ZW50T2Zmc2V0KTtcbiAgICBsZXQgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICBpZiAodGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIElnbm9yZSBzY3JvbGwgZXZlbnRzIHVudGlsIG9uTGF5b3V0IGhhcyBiZWVuIGNhbGxlZCBhbmQgd2VcbiAgICAgICAgLy8ga25vdyBvdXIgb2Zmc2V0IGZyb20gb3VyIG9mZnNldCBmcm9tIG91ciBwYXJlbnRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgKHtcbiAgICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgY29udGVudExlbmd0aCxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBkT2Zmc2V0LFxuICAgICAgfSA9IHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKHtcbiAgICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGR0ID0gdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXBcbiAgICAgID8gTWF0aC5tYXgoMSwgdGltZXN0YW1wIC0gdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXApXG4gICAgICA6IDE7XG4gICAgY29uc3QgdmVsb2NpdHkgPSBkT2Zmc2V0IC8gZHQ7XG5cbiAgICBpZiAoXG4gICAgICBkdCA+IDUwMCAmJlxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCA+IDUwMCAmJlxuICAgICAgY29udGVudExlbmd0aCA+IDUgKiB2aXNpYmxlTGVuZ3RoICYmXG4gICAgICAhdGhpcy5faGFzV2FybmVkLnBlcmZcbiAgICApIHtcbiAgICAgIGluZm9Mb2coXG4gICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFlvdSBoYXZlIGEgbGFyZ2UgbGlzdCB0aGF0IGlzIHNsb3cgdG8gdXBkYXRlIC0gbWFrZSBzdXJlIHlvdXIgJyArXG4gICAgICAgICAgJ3JlbmRlckl0ZW0gZnVuY3Rpb24gcmVuZGVycyBjb21wb25lbnRzIHRoYXQgZm9sbG93IFJlYWN0IHBlcmZvcm1hbmNlIGJlc3QgcHJhY3RpY2VzICcgK1xuICAgICAgICAgICdsaWtlIFB1cmVDb21wb25lbnQsIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgZXRjLicsXG4gICAgICAgIHtkdCwgcHJldkR0OiB0aGlzLl9zY3JvbGxNZXRyaWNzLmR0LCBjb250ZW50TGVuZ3RofSxcbiAgICAgICk7XG4gICAgICB0aGlzLl9oYXNXYXJuZWQucGVyZiA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MgPSB7XG4gICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgZHQsXG4gICAgICBkT2Zmc2V0LFxuICAgICAgb2Zmc2V0LFxuICAgICAgdGltZXN0YW1wLFxuICAgICAgdmVsb2NpdHksXG4gICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgIH07XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGlmICghdGhpcy5wcm9wcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgICBpZiAodmVsb2NpdHkgIT09IDApIHtcbiAgICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmFjdGl2YXRlKCk7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgfTtcblxuICBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCkge1xuICAgIGNvbnN0IHtmaXJzdCwgbGFzdH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHtvZmZzZXQsIHZpc2libGVMZW5ndGgsIHZlbG9jaXR5fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBsZXQgaGlQcmkgPSBmYWxzZTtcbiAgICBjb25zdCBzY3JvbGxpbmdUaHJlc2hvbGQgPVxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlXG4gICAgICAgKiB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgKHRoaXMucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aCkgLyAyO1xuICAgIC8vIE1hcmsgYXMgaGlnaCBwcmlvcml0eSBpZiB3ZSdyZSBjbG9zZSB0byB0aGUgc3RhcnQgb2YgdGhlIGZpcnN0IGl0ZW1cbiAgICAvLyBCdXQgb25seSBpZiB0aGVyZSBhcmUgaXRlbXMgYmVmb3JlIHRoZSBmaXJzdCByZW5kZXJlZCBpdGVtXG4gICAgaWYgKGZpcnN0ID4gMCkge1xuICAgICAgY29uc3QgZGlzdFRvcCA9IG9mZnNldCAtIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCkub2Zmc2V0O1xuICAgICAgaGlQcmkgPVxuICAgICAgICBoaVByaSB8fCBkaXN0VG9wIDwgMCB8fCAodmVsb2NpdHkgPCAtMiAmJiBkaXN0VG9wIDwgc2Nyb2xsaW5nVGhyZXNob2xkKTtcbiAgICB9XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBlbmQgb2YgdGhlIGxhc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBhZnRlciB0aGUgbGFzdCByZW5kZXJlZCBpdGVtXG4gICAgaWYgKGxhc3QgPCBpdGVtQ291bnQgLSAxKSB7XG4gICAgICBjb25zdCBkaXN0Qm90dG9tID1cbiAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3QpLm9mZnNldCAtIChvZmZzZXQgKyB2aXNpYmxlTGVuZ3RoKTtcbiAgICAgIGhpUHJpID1cbiAgICAgICAgaGlQcmkgfHxcbiAgICAgICAgZGlzdEJvdHRvbSA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5ID4gMiAmJiBkaXN0Qm90dG9tIDwgc2Nyb2xsaW5nVGhyZXNob2xkKTtcbiAgICB9XG4gICAgLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgLy8gSWYgdGhpcyBpcyB0cmlnZ2VyZWQgaW4gYW4gYGNvbXBvbmVudERpZFVwZGF0ZWAgZm9sbG93ZWQgYnkgYSBoaVByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICAvLyBXZSBzaG91bGRuJ3QgZG8gYW5vdGhlciBoaXByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICBpZiAoXG4gICAgICBoaVByaSAmJlxuICAgICAgKHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoIHx8IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dCkgJiZcbiAgICAgICF0aGlzLl9oaVByaUluUHJvZ3Jlc3NcbiAgICApIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAvLyBEb24ndCB3b3JyeSBhYm91dCBpbnRlcmFjdGlvbnMgd2hlbiBzY3JvbGxpbmcgcXVpY2tseTsgZm9jdXMgb24gZmlsbGluZyBjb250ZW50IGFzIGZhc3RcbiAgICAgIC8vIGFzIHBvc3NpYmxlLlxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuZGlzcG9zZSh7YWJvcnQ6IHRydWV9KTtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuc2NoZWR1bGUoKTtcbiAgICB9XG4gIH1cblxuICBfb25TY3JvbGxCZWdpbkRyYWcgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5faGFzSW50ZXJhY3RlZCA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9O1xuXG4gIF9vblNjcm9sbEVuZERyYWcgPSAoZSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHt2ZWxvY2l0eX0gPSBlLm5hdGl2ZUV2ZW50O1xuICAgIGlmICh2ZWxvY2l0eSkge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IHRoaXMuX3NlbGVjdE9mZnNldCh2ZWxvY2l0eSk7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgfTtcblxuICBfb25Nb21lbnR1bVNjcm9sbEVuZCA9IChlKTogdm9pZCA9PiB7XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IDA7XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZCAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gIH07XG5cbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXIgPSAoKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudCwgb25FbmRSZWFjaGVkVGhyZXNob2xkfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkID0gdGhpcy5faXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyhkYXRhKTtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiB7XG4gICAgICBsZXQgbmV3U3RhdGU7XG4gICAgICBjb25zdCB7Y29udGVudExlbmd0aCwgb2Zmc2V0LCB2aXNpYmxlTGVuZ3RofSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCkge1xuICAgICAgICAvLyBJZiB3ZSBydW4gdGhpcyB3aXRoIGJvZ3VzIGRhdGEsIHdlJ2xsIGZvcmNlLXJlbmRlciB3aW5kb3cge2ZpcnN0OiAwLCBsYXN0OiAwfSxcbiAgICAgICAgLy8gYW5kIHdpcGUgb3V0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgcmVuZGVyZWQgZWxlbWVudHMuXG4gICAgICAgIC8vIFNvIGxldCdzIHdhaXQgdW50aWwgdGhlIHNjcm9sbCB2aWV3IG1ldHJpY3MgaGF2ZSBiZWVuIHNldCB1cC4gQW5kIHVudGlsIHRoZW4sXG4gICAgICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciBzdWdnZXN0aW9uXG4gICAgICAgIGlmICh2aXNpYmxlTGVuZ3RoID4gMCAmJiBjb250ZW50TGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBub24temVybyBpbml0aWFsU2Nyb2xsSW5kZXggYW5kIHJ1biB0aGlzIGJlZm9yZSB3ZSd2ZSBzY3JvbGxlZCxcbiAgICAgICAgICAvLyB3ZSdsbCB3aXBlIG91dCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHJlbmRlcmVkIGVsZW1lbnRzIHN0YXJ0aW5nIGF0IGluaXRpYWxTY3JvbGxJbmRleC5cbiAgICAgICAgICAvLyBTbyBsZXQncyB3YWl0IHVudGlsIHdlJ3ZlIHNjcm9sbGVkIHRoZSB2aWV3IHRvIHRoZSByaWdodCBwbGFjZS4gQW5kIHVudGlsIHRoZW4sXG4gICAgICAgICAgLy8gd2Ugd2lsbCB0cnVzdCB0aGUgaW5pdGlhbFNjcm9sbEluZGV4IHN1Z2dlc3Rpb24uXG4gICAgICAgICAgaWYgKCF0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCB8fCB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCkge1xuICAgICAgICAgICAgbmV3U3RhdGUgPSBjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gsXG4gICAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VGcm9tRW5kID0gY29udGVudExlbmd0aCAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG4gICAgICAgIGNvbnN0IHJlbmRlckFoZWFkID1cbiAgICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3Nlc1xuICAgICAgICAgICAqIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3JcbiAgICAgICAgICAgKiBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgICBkaXN0YW5jZUZyb21FbmQgPCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgICAgICA/IHRoaXMucHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaFxuICAgICAgICAgICAgOiAwO1xuICAgICAgICBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICBmaXJzdDogMCxcbiAgICAgICAgICBsYXN0OiBNYXRoLm1pbihzdGF0ZS5sYXN0ICsgcmVuZGVyQWhlYWQsIGdldEl0ZW1Db3VudChkYXRhKSAtIDEpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKG5ld1N0YXRlICYmIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuc2l6ZSA+IDApIHtcbiAgICAgICAgY29uc3QgbmV3Rmlyc3QgPSBuZXdTdGF0ZS5maXJzdDtcbiAgICAgICAgY29uc3QgbmV3TGFzdCA9IG5ld1N0YXRlLmxhc3Q7XG4gICAgICAgIC8vIElmIHNvbWUgY2VsbCBpbiB0aGUgbmV3IHN0YXRlIGhhcyBhIGNoaWxkIGxpc3QgaW4gaXQsIHdlIHNob3VsZCBvbmx5IHJlbmRlclxuICAgICAgICAvLyB1cCB0aHJvdWdoIHRoYXQgaXRlbSwgc28gdGhhdCB3ZSBnaXZlIHRoYXQgbGlzdCBhIGNoYW5jZSB0byByZW5kZXIuXG4gICAgICAgIC8vIE90aGVyd2lzZSB0aGVyZSdzIGNodXJuIGZyb20gbXVsdGlwbGUgY2hpbGQgbGlzdHMgbW91bnRpbmcgYW5kIHVuLW1vdW50aW5nXG4gICAgICAgIC8vIHRoZWlyIGl0ZW1zLlxuICAgICAgICBmb3IgKGxldCBpaSA9IG5ld0ZpcnN0OyBpaSA8PSBuZXdMYXN0OyBpaSsrKSB7XG4gICAgICAgICAgY29uc3QgY2VsbEtleUZvckluZGV4ID0gdGhpcy5faW5kaWNlc1RvS2V5cy5nZXQoaWkpO1xuICAgICAgICAgIGNvbnN0IGNoaWxkTGlzdEtleXMgPVxuICAgICAgICAgICAgY2VsbEtleUZvckluZGV4ICYmXG4gICAgICAgICAgICB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2VsbEtleUZvckluZGV4KTtcbiAgICAgICAgICBpZiAoIWNoaWxkTGlzdEtleXMpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgc29tZUNoaWxkSGFzTW9yZSA9IGZhbHNlO1xuICAgICAgICAgIC8vIEZvciBlYWNoIGNlbGwsIG5lZWQgdG8gY2hlY2sgd2hldGhlciBhbnkgY2hpbGQgbGlzdCBpbiBpdCBoYXMgbW9yZSBlbGVtZW50cyB0byByZW5kZXJcbiAgICAgICAgICBmb3IgKGxldCBjaGlsZEtleSBvZiBjaGlsZExpc3RLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZExpc3QgPSB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmdldChjaGlsZEtleSk7XG4gICAgICAgICAgICBpZiAoY2hpbGRMaXN0ICYmIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5oYXNNb3JlKCkpIHtcbiAgICAgICAgICAgICAgc29tZUNoaWxkSGFzTW9yZSA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc29tZUNoaWxkSGFzTW9yZSkge1xuICAgICAgICAgICAgbmV3U3RhdGUubGFzdCA9IGlpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIG5ld1N0YXRlICE9IG51bGwgJiZcbiAgICAgICAgbmV3U3RhdGUuZmlyc3QgPT09IHN0YXRlLmZpcnN0ICYmXG4gICAgICAgIG5ld1N0YXRlLmxhc3QgPT09IHN0YXRlLmxhc3RcbiAgICAgICkge1xuICAgICAgICBuZXdTdGF0ZSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfSk7XG4gIH07XG5cbiAgX2NyZWF0ZVZpZXdUb2tlbiA9IChpbmRleDogbnVtYmVyLCBpc1ZpZXdhYmxlOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGtleUV4dHJhY3Rvcn0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGluZGV4KTtcbiAgICByZXR1cm4ge2luZGV4LCBpdGVtLCBrZXk6IGtleUV4dHJhY3RvcihpdGVtLCBpbmRleCksIGlzVmlld2FibGV9O1xuICB9O1xuXG4gIF9nZXRGcmFtZU1ldHJpY3NBcHByb3ggPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKToge1xuICAgIGxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIC4uLlxuICB9ID0+IHtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljcyhpbmRleCk7XG4gICAgaWYgKGZyYW1lICYmIGZyYW1lLmluZGV4ID09PSBpbmRleCkge1xuICAgICAgLy8gY2hlY2sgZm9yIGludmFsaWQgZnJhbWVzIGR1ZSB0byByb3cgcmUtb3JkZXJpbmdcbiAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qge2dldEl0ZW1MYXlvdXR9ID0gdGhpcy5wcm9wcztcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgIWdldEl0ZW1MYXlvdXQsXG4gICAgICAgICdTaG91bGQgbm90IGhhdmUgdG8gZXN0aW1hdGUgZnJhbWVzIHdoZW4gYSBtZWFzdXJlbWVudCBtZXRyaWNzIGZ1bmN0aW9uIGlzIHByb3ZpZGVkJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBvZmZzZXQ6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoICogaW5kZXgsXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBfZ2V0RnJhbWVNZXRyaWNzID0gKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICk6ID97XG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBpbkxheW91dD86IGJvb2xlYW4sXG4gICAgLi4uXG4gIH0gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIGtleUV4dHJhY3RvcixcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBnZXRJdGVtQ291bnQoZGF0YSkgPiBpbmRleCxcbiAgICAgICdUcmllZCB0byBnZXQgZnJhbWUgZm9yIG91dCBvZiByYW5nZSBpbmRleCAnICsgaW5kZXgsXG4gICAgKTtcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgbGV0IGZyYW1lID0gaXRlbSAmJiB0aGlzLl9mcmFtZXNba2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KV07XG4gICAgaWYgKCFmcmFtZSB8fCBmcmFtZS5pbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGlmIChnZXRJdGVtTGF5b3V0KSB7XG4gICAgICAgIGZyYW1lID0gZ2V0SXRlbUxheW91dChkYXRhLCBpbmRleCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qICRGbG93Rml4TWUoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHJldHVybiBmcmFtZTtcbiAgfTtcblxuICBfdXBkYXRlVmlld2FibGVJdGVtcyhkYXRhOiBhbnkpIHtcbiAgICBjb25zdCB7Z2V0SXRlbUNvdW50fSA9IHRoaXMucHJvcHM7XG5cbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLm9uVXBkYXRlKFxuICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0LFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljcyxcbiAgICAgICAgdGhpcy5fY3JlYXRlVmlld1Rva2VuLFxuICAgICAgICB0dXBsZS5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB0aGlzLnN0YXRlLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufVxuXG50eXBlIENlbGxSZW5kZXJlclByb3BzID0ge1xuICBDZWxsUmVuZGVyZXJDb21wb25lbnQ/OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50OiA/UmVhY3QuQ29tcG9uZW50VHlwZTwqPixcbiAgY2VsbEtleTogc3RyaW5nLFxuICBmaWxsUmF0ZUhlbHBlcjogRmlsbFJhdGVIZWxwZXIsXG4gIGhvcml6b250YWw6ID9ib29sZWFuLFxuICBpbmRleDogbnVtYmVyLFxuICBpbnZlcnNpb25TdHlsZTogVmlld1N0eWxlUHJvcCxcbiAgaXRlbTogSXRlbSxcbiAgLy8gVGhpcyBpcyBleHRyYWN0ZWQgYnkgU2Nyb2xsVmlld1N0aWNreUhlYWRlclxuICBvbkxheW91dDogKGV2ZW50OiBPYmplY3QpID0+IHZvaWQsXG4gIG9uVW5tb3VudDogKGNlbGxLZXk6IHN0cmluZykgPT4gdm9pZCxcbiAgb25VcGRhdGVTZXBhcmF0b3JzOiAoY2VsbEtleXM6IEFycmF5PD9zdHJpbmc+LCBwcm9wczogT2JqZWN0KSA9PiB2b2lkLFxuICBwYXJlbnRQcm9wczoge1xuICAgIC8vIGUuZy4gaGVpZ2h0LCB5LFxuICAgIGdldEl0ZW1MYXlvdXQ/OiAoXG4gICAgICBkYXRhOiBhbnksXG4gICAgICBpbmRleDogbnVtYmVyLFxuICAgICkgPT4ge1xuICAgICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgICBvZmZzZXQ6IG51bWJlcixcbiAgICAgIGluZGV4OiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9LFxuICAgIHJlbmRlckl0ZW0/OiA/UmVuZGVySXRlbVR5cGU8SXRlbT4sXG4gICAgTGlzdEl0ZW1Db21wb25lbnQ/OiA/KFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PiB8IFJlYWN0LkVsZW1lbnQ8YW55PiksXG4gICAgLi4uXG4gIH0sXG4gIHByZXZDZWxsS2V5OiA/c3RyaW5nLFxuICAuLi5cbn07XG5cbnR5cGUgQ2VsbFJlbmRlcmVyU3RhdGUgPSB7XG4gIHNlcGFyYXRvclByb3BzOiAkUmVhZE9ubHk8e3xcbiAgICBoaWdobGlnaHRlZDogYm9vbGVhbixcbiAgICBsZWFkaW5nSXRlbTogP0l0ZW0sXG4gIHx9PixcbiAgLi4uXG59O1xuXG5jbGFzcyBDZWxsUmVuZGVyZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8XG4gIENlbGxSZW5kZXJlclByb3BzLFxuICBDZWxsUmVuZGVyZXJTdGF0ZSxcbj4ge1xuICBzdGF0ZSA9IHtcbiAgICBzZXBhcmF0b3JQcm9wczoge1xuICAgICAgaGlnaGxpZ2h0ZWQ6IGZhbHNlLFxuICAgICAgbGVhZGluZ0l0ZW06IHRoaXMucHJvcHMuaXRlbSxcbiAgICB9LFxuICB9O1xuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgcHJvcHM6IENlbGxSZW5kZXJlclByb3BzLFxuICAgIHByZXZTdGF0ZTogQ2VsbFJlbmRlcmVyU3RhdGUsXG4gICk6ID9DZWxsUmVuZGVyZXJTdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlcGFyYXRvclByb3BzOiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZS5zZXBhcmF0b3JQcm9wcyxcbiAgICAgICAgbGVhZGluZ0l0ZW06IHByb3BzLml0ZW0sXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICAvLyBUT0RPOiBjb25zaWRlciBmYWN0b3Jpbmcgc2VwYXJhdG9yIHN0dWZmIG91dCBvZiBWaXJ0dWFsaXplZExpc3QgaW50byBGbGF0TGlzdCBzaW5jZSBpdCdzIG5vdFxuICAvLyByZXVzZWQgYnkgU2VjdGlvbkxpc3QgYW5kIHdlIGNhbiBrZWVwIFZpcnR1YWxpemVkTGlzdCBzaW1wbGVyLlxuICBfc2VwYXJhdG9ycyA9IHtcbiAgICBoaWdobGlnaHQ6ICgpID0+IHtcbiAgICAgIGNvbnN0IHtjZWxsS2V5LCBwcmV2Q2VsbEtleX0gPSB0aGlzLnByb3BzO1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZVNlcGFyYXRvcnMoW2NlbGxLZXksIHByZXZDZWxsS2V5XSwge1xuICAgICAgICBoaWdobGlnaHRlZDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdW5oaWdobGlnaHQ6ICgpID0+IHtcbiAgICAgIGNvbnN0IHtjZWxsS2V5LCBwcmV2Q2VsbEtleX0gPSB0aGlzLnByb3BzO1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZVNlcGFyYXRvcnMoW2NlbGxLZXksIHByZXZDZWxsS2V5XSwge1xuICAgICAgICBoaWdobGlnaHRlZDogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHVwZGF0ZVByb3BzOiAoc2VsZWN0OiAnbGVhZGluZycgfCAndHJhaWxpbmcnLCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAgICBjb25zdCB7Y2VsbEtleSwgcHJldkNlbGxLZXl9ID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGVTZXBhcmF0b3JzKFxuICAgICAgICBbc2VsZWN0ID09PSAnbGVhZGluZycgPyBwcmV2Q2VsbEtleSA6IGNlbGxLZXldLFxuICAgICAgICBuZXdQcm9wcyxcbiAgICAgICk7XG4gICAgfSxcbiAgfTtcblxuICB1cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wczogT2JqZWN0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiAoe1xuICAgICAgc2VwYXJhdG9yUHJvcHM6IHsuLi5zdGF0ZS5zZXBhcmF0b3JQcm9wcywgLi4ubmV3UHJvcHN9LFxuICAgIH0pKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMucHJvcHMuY2VsbEtleSk7XG4gIH1cblxuICBfcmVuZGVyRWxlbWVudChyZW5kZXJJdGVtLCBMaXN0SXRlbUNvbXBvbmVudCwgaXRlbSwgaW5kZXgpIHtcbiAgICBpZiAocmVuZGVySXRlbSAmJiBMaXN0SXRlbUNvbXBvbmVudCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBCb3RoIExpc3RJdGVtQ29tcG9uZW50IGFuZCByZW5kZXJJdGVtIHByb3BzIGFyZSBwcmVzZW50LiBMaXN0SXRlbUNvbXBvbmVudCB3aWxsIHRha2UnICtcbiAgICAgICAgICAnIHByZWNlZGVuY2Ugb3ZlciByZW5kZXJJdGVtLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChMaXN0SXRlbUNvbXBvbmVudCkge1xuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuMTA4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuMTA4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciwgZGVsZXRlXG4gICAgICAgKiB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEl0ZW1Db21wb25lbnQsIHtcbiAgICAgICAgaXRlbSxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHNlcGFyYXRvcnM6IHRoaXMuX3NlcGFyYXRvcnMsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocmVuZGVySXRlbSkge1xuICAgICAgcmV0dXJuIHJlbmRlckl0ZW0oe1xuICAgICAgICBpdGVtLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgc2VwYXJhdG9yczogdGhpcy5fc2VwYXJhdG9ycyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGludmFyaWFudChcbiAgICAgIGZhbHNlLFxuICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogRWl0aGVyIExpc3RJdGVtQ29tcG9uZW50IG9yIHJlbmRlckl0ZW0gcHJvcHMgYXJlIHJlcXVpcmVkIGJ1dCBub25lIHdlcmUgZm91bmQuJyxcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudCxcbiAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQsXG4gICAgICBmaWxsUmF0ZUhlbHBlcixcbiAgICAgIGhvcml6b250YWwsXG4gICAgICBpdGVtLFxuICAgICAgaW5kZXgsXG4gICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgIHBhcmVudFByb3BzLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtyZW5kZXJJdGVtLCBnZXRJdGVtTGF5b3V0LCBMaXN0SXRlbUNvbXBvbmVudH0gPSBwYXJlbnRQcm9wcztcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyRWxlbWVudChcbiAgICAgIHJlbmRlckl0ZW0sXG4gICAgICBMaXN0SXRlbUNvbXBvbmVudCxcbiAgICAgIGl0ZW0sXG4gICAgICBpbmRleCxcbiAgICApO1xuXG4gICAgY29uc3Qgb25MYXlvdXQgPVxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjguMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42OCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXNcbiAgICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgZ2V0SXRlbUxheW91dCAmJiAhcGFyZW50UHJvcHMuZGVidWcgJiYgIWZpbGxSYXRlSGVscGVyLmVuYWJsZWQoKVxuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IHRoaXMucHJvcHMub25MYXlvdXQ7XG4gICAgLy8gTk9URTogdGhhdCB3aGVuIHRoaXMgaXMgYSBzdGlja3kgaGVhZGVyLCBgb25MYXlvdXRgIHdpbGwgZ2V0IGF1dG9tYXRpY2FsbHkgZXh0cmFjdGVkIGFuZFxuICAgIC8vIGNhbGxlZCBleHBsaWNpdGx5IGJ5IGBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyYC5cbiAgICBjb25zdCBpdGVtU2VwYXJhdG9yID0gSXRlbVNlcGFyYXRvckNvbXBvbmVudCAmJiAoXG4gICAgICA8SXRlbVNlcGFyYXRvckNvbXBvbmVudCB7Li4udGhpcy5zdGF0ZS5zZXBhcmF0b3JQcm9wc30gLz5cbiAgICApO1xuICAgIGNvbnN0IGNlbGxTdHlsZSA9IGludmVyc2lvblN0eWxlXG4gICAgICA/IGhvcml6b250YWxcbiAgICAgICAgPyBbc3R5bGVzLnJvd1JldmVyc2UsIGludmVyc2lvblN0eWxlXVxuICAgICAgICA6IFtzdHlsZXMuY29sdW1uUmV2ZXJzZSwgaW52ZXJzaW9uU3R5bGVdXG4gICAgICA6IGhvcml6b250YWxcbiAgICAgID8gW3N0eWxlcy5yb3csIGludmVyc2lvblN0eWxlXVxuICAgICAgOiBpbnZlcnNpb25TdHlsZTtcbiAgICBjb25zdCByZXN1bHQgPSAhQ2VsbFJlbmRlcmVyQ29tcG9uZW50ID8gKFxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuODkuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC44OSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZVxuICAgICAgICogdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIDxWaWV3IHN0eWxlPXtjZWxsU3R5bGV9IG9uTGF5b3V0PXtvbkxheW91dH0+XG4gICAgICAgIHtlbGVtZW50fVxuICAgICAgICB7aXRlbVNlcGFyYXRvcn1cbiAgICAgIDwvVmlldz5cbiAgICApIDogKFxuICAgICAgPENlbGxSZW5kZXJlckNvbXBvbmVudFxuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgc3R5bGU9e2NlbGxTdHlsZX1cbiAgICAgICAgb25MYXlvdXQ9e29uTGF5b3V0fT5cbiAgICAgICAge2VsZW1lbnR9XG4gICAgICAgIHtpdGVtU2VwYXJhdG9yfVxuICAgICAgPC9DZWxsUmVuZGVyZXJDb21wb25lbnQ+XG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlciBjZWxsS2V5PXt0aGlzLnByb3BzLmNlbGxLZXl9PlxuICAgICAgICB7cmVzdWx0fVxuICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPlxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVOZXN0ZWRMaXN0cyhjaGlsZExpc3Q6IHtcbiAgK2NlbGxLZXk6IHN0cmluZyxcbiAgK2tleTogc3RyaW5nLFxuICArcmVmOiBWaXJ0dWFsaXplZExpc3QsXG4gICtwYXJlbnREZWJ1Z0luZm86IExpc3REZWJ1Z0luZm8sXG4gICtob3Jpem9udGFsOiBib29sZWFuLFxuICAuLi5cbn0pIHtcbiAgbGV0IHRyYWNlID1cbiAgICAnVmlydHVhbGl6ZWRMaXN0IHRyYWNlOlxcbicgK1xuICAgIGAgIENoaWxkICgke2NoaWxkTGlzdC5ob3Jpem9udGFsID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJ30pOlxcbmAgK1xuICAgIGAgICAgbGlzdEtleTogJHtjaGlsZExpc3Qua2V5fVxcbmAgK1xuICAgIGAgICAgY2VsbEtleTogJHtjaGlsZExpc3QuY2VsbEtleX1gO1xuXG4gIGxldCBkZWJ1Z0luZm8gPSBjaGlsZExpc3QucGFyZW50RGVidWdJbmZvO1xuICB3aGlsZSAoZGVidWdJbmZvKSB7XG4gICAgdHJhY2UgKz1cbiAgICAgIGBcXG4gIFBhcmVudCAoJHtkZWJ1Z0luZm8uaG9yaXpvbnRhbCA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCd9KTpcXG5gICtcbiAgICAgIGAgICAgbGlzdEtleTogJHtkZWJ1Z0luZm8ubGlzdEtleX1cXG5gICtcbiAgICAgIGAgICAgY2VsbEtleTogJHtkZWJ1Z0luZm8uY2VsbEtleX1gO1xuICAgIGRlYnVnSW5mbyA9IGRlYnVnSW5mby5wYXJlbnQ7XG4gIH1cbiAgcmV0dXJuIHRyYWNlO1xufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIHZlcnRpY2FsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tzY2FsZVk6IC0xfV0sXG4gIH0sXG4gIGhvcml6b250YWxseUludmVydGVkOiB7XG4gICAgdHJhbnNmb3JtOiBbe3NjYWxlWDogLTF9XSxcbiAgfSxcbiAgcm93OiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gIH0sXG4gIHJvd1JldmVyc2U6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93LXJldmVyc2UnLFxuICB9LFxuICBjb2x1bW5SZXZlcnNlOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbi1yZXZlcnNlJyxcbiAgfSxcbiAgZGVidWc6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlCYXNlOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICB9LFxuICBkZWJ1Z092ZXJsYXk6IHtcbiAgICBib3R0b206IDAsXG4gICAgd2lkdGg6IDIwLFxuICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXG4gICAgYm9yZGVyV2lkdGg6IDEsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lOiB7XG4gICAgbGVmdDogMCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdvcmFuZ2UnLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZUxhc3Q6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAnZ3JlZW4nLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZVZpczoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdyZWQnLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmlydHVhbGl6ZWRMaXN0O1xuIl19