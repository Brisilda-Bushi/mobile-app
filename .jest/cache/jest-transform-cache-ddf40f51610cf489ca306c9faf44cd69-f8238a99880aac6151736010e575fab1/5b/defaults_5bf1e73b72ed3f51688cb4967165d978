13afe8de31fdb6b19cc3f5bad597198c
'use strict';

var utils = require("./utils");

var normalizeHeaderName = require("./helpers/normalizeHeaderName");

var enhanceError = require("./core/enhanceError");

var DEFAULT_CONTENT_TYPE = {
  'Content-Type': 'application/x-www-form-urlencoded'
};

function setContentTypeIfUnset(headers, value) {
  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {
    headers['Content-Type'] = value;
  }
}

function getDefaultAdapter() {
  var adapter;

  if (typeof XMLHttpRequest !== 'undefined') {
    adapter = require("./adapters/xhr");
  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {
    adapter = require("./adapters/http");
  }

  return adapter;
}

function stringifySafely(rawValue, parser, encoder) {
  if (utils.isString(rawValue)) {
    try {
      (parser || JSON.parse)(rawValue);
      return utils.trim(rawValue);
    } catch (e) {
      if (e.name !== 'SyntaxError') {
        throw e;
      }
    }
  }

  return (encoder || JSON.stringify)(rawValue);
}

var defaults = {
  transitional: {
    silentJSONParsing: true,
    forcedJSONParsing: true,
    clarifyTimeoutError: false
  },
  adapter: getDefaultAdapter(),
  transformRequest: [function transformRequest(data, headers) {
    normalizeHeaderName(headers, 'Accept');
    normalizeHeaderName(headers, 'Content-Type');

    if (utils.isFormData(data) || utils.isArrayBuffer(data) || utils.isBuffer(data) || utils.isStream(data) || utils.isFile(data) || utils.isBlob(data)) {
      return data;
    }

    if (utils.isArrayBufferView(data)) {
      return data.buffer;
    }

    if (utils.isURLSearchParams(data)) {
      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');
      return data.toString();
    }

    if (utils.isObject(data) || headers && headers['Content-Type'] === 'application/json') {
      setContentTypeIfUnset(headers, 'application/json');
      return stringifySafely(data);
    }

    return data;
  }],
  transformResponse: [function transformResponse(data) {
    var transitional = this.transitional || defaults.transitional;
    var silentJSONParsing = transitional && transitional.silentJSONParsing;
    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;
    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';

    if (strictJSONParsing || forcedJSONParsing && utils.isString(data) && data.length) {
      try {
        return JSON.parse(data);
      } catch (e) {
        if (strictJSONParsing) {
          if (e.name === 'SyntaxError') {
            throw enhanceError(e, this, 'E_JSON_PARSE');
          }

          throw e;
        }
      }
    }

    return data;
  }],
  timeout: 0,
  xsrfCookieName: 'XSRF-TOKEN',
  xsrfHeaderName: 'X-XSRF-TOKEN',
  maxContentLength: -1,
  maxBodyLength: -1,
  validateStatus: function validateStatus(status) {
    return status >= 200 && status < 300;
  },
  headers: {
    common: {
      'Accept': 'application/json, text/plain, */*'
    }
  }
};
utils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {
  defaults.headers[method] = {};
});
utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);
});
module.exports = defaults;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlZmF1bHRzLmpzIl0sIm5hbWVzIjpbInV0aWxzIiwicmVxdWlyZSIsIm5vcm1hbGl6ZUhlYWRlck5hbWUiLCJlbmhhbmNlRXJyb3IiLCJERUZBVUxUX0NPTlRFTlRfVFlQRSIsInNldENvbnRlbnRUeXBlSWZVbnNldCIsImhlYWRlcnMiLCJ2YWx1ZSIsImlzVW5kZWZpbmVkIiwiZ2V0RGVmYXVsdEFkYXB0ZXIiLCJhZGFwdGVyIiwiWE1MSHR0cFJlcXVlc3QiLCJwcm9jZXNzIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJjYWxsIiwic3RyaW5naWZ5U2FmZWx5IiwicmF3VmFsdWUiLCJwYXJzZXIiLCJlbmNvZGVyIiwiaXNTdHJpbmciLCJKU09OIiwicGFyc2UiLCJ0cmltIiwiZSIsIm5hbWUiLCJzdHJpbmdpZnkiLCJkZWZhdWx0cyIsInRyYW5zaXRpb25hbCIsInNpbGVudEpTT05QYXJzaW5nIiwiZm9yY2VkSlNPTlBhcnNpbmciLCJjbGFyaWZ5VGltZW91dEVycm9yIiwidHJhbnNmb3JtUmVxdWVzdCIsImRhdGEiLCJpc0Zvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlciIsImlzQnVmZmVyIiwiaXNTdHJlYW0iLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc0FycmF5QnVmZmVyVmlldyIsImJ1ZmZlciIsImlzVVJMU2VhcmNoUGFyYW1zIiwiaXNPYmplY3QiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInN0cmljdEpTT05QYXJzaW5nIiwicmVzcG9uc2VUeXBlIiwibGVuZ3RoIiwidGltZW91dCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwibWF4Qm9keUxlbmd0aCIsInZhbGlkYXRlU3RhdHVzIiwic3RhdHVzIiwiY29tbW9uIiwiZm9yRWFjaCIsImZvckVhY2hNZXRob2ROb0RhdGEiLCJtZXRob2QiLCJmb3JFYWNoTWV0aG9kV2l0aERhdGEiLCJtZXJnZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLEtBQUssR0FBR0MsT0FBTyxXQUFuQjs7QUFDQSxJQUFJQyxtQkFBbUIsR0FBR0QsT0FBTyxpQ0FBakM7O0FBQ0EsSUFBSUUsWUFBWSxHQUFHRixPQUFPLHVCQUExQjs7QUFFQSxJQUFJRyxvQkFBb0IsR0FBRztBQUN6QixrQkFBZ0I7QUFEUyxDQUEzQjs7QUFJQSxTQUFTQyxxQkFBVCxDQUErQkMsT0FBL0IsRUFBd0NDLEtBQXhDLEVBQStDO0FBQzdDLE1BQUksQ0FBQ1AsS0FBSyxDQUFDUSxXQUFOLENBQWtCRixPQUFsQixDQUFELElBQStCTixLQUFLLENBQUNRLFdBQU4sQ0FBa0JGLE9BQU8sQ0FBQyxjQUFELENBQXpCLENBQW5DLEVBQStFO0FBQzdFQSxJQUFBQSxPQUFPLENBQUMsY0FBRCxDQUFQLEdBQTBCQyxLQUExQjtBQUNEO0FBQ0Y7O0FBRUQsU0FBU0UsaUJBQVQsR0FBNkI7QUFDM0IsTUFBSUMsT0FBSjs7QUFDQSxNQUFJLE9BQU9DLGNBQVAsS0FBMEIsV0FBOUIsRUFBMkM7QUFFekNELElBQUFBLE9BQU8sR0FBR1QsT0FBTyxrQkFBakI7QUFDRCxHQUhELE1BR08sSUFBSSxPQUFPVyxPQUFQLEtBQW1CLFdBQW5CLElBQWtDQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLFFBQWpCLENBQTBCQyxJQUExQixDQUErQkosT0FBL0IsTUFBNEMsa0JBQWxGLEVBQXNHO0FBRTNHRixJQUFBQSxPQUFPLEdBQUdULE9BQU8sbUJBQWpCO0FBQ0Q7O0FBQ0QsU0FBT1MsT0FBUDtBQUNEOztBQUVELFNBQVNPLGVBQVQsQ0FBeUJDLFFBQXpCLEVBQW1DQyxNQUFuQyxFQUEyQ0MsT0FBM0MsRUFBb0Q7QUFDbEQsTUFBSXBCLEtBQUssQ0FBQ3FCLFFBQU4sQ0FBZUgsUUFBZixDQUFKLEVBQThCO0FBQzVCLFFBQUk7QUFDRixPQUFDQyxNQUFNLElBQUlHLElBQUksQ0FBQ0MsS0FBaEIsRUFBdUJMLFFBQXZCO0FBQ0EsYUFBT2xCLEtBQUssQ0FBQ3dCLElBQU4sQ0FBV04sUUFBWCxDQUFQO0FBQ0QsS0FIRCxDQUdFLE9BQU9PLENBQVAsRUFBVTtBQUNWLFVBQUlBLENBQUMsQ0FBQ0MsSUFBRixLQUFXLGFBQWYsRUFBOEI7QUFDNUIsY0FBTUQsQ0FBTjtBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxTQUFPLENBQUNMLE9BQU8sSUFBSUUsSUFBSSxDQUFDSyxTQUFqQixFQUE0QlQsUUFBNUIsQ0FBUDtBQUNEOztBQUVELElBQUlVLFFBQVEsR0FBRztBQUViQyxFQUFBQSxZQUFZLEVBQUU7QUFDWkMsSUFBQUEsaUJBQWlCLEVBQUUsSUFEUDtBQUVaQyxJQUFBQSxpQkFBaUIsRUFBRSxJQUZQO0FBR1pDLElBQUFBLG1CQUFtQixFQUFFO0FBSFQsR0FGRDtBQVFidEIsRUFBQUEsT0FBTyxFQUFFRCxpQkFBaUIsRUFSYjtBQVVid0IsRUFBQUEsZ0JBQWdCLEVBQUUsQ0FBQyxTQUFTQSxnQkFBVCxDQUEwQkMsSUFBMUIsRUFBZ0M1QixPQUFoQyxFQUF5QztBQUMxREosSUFBQUEsbUJBQW1CLENBQUNJLE9BQUQsRUFBVSxRQUFWLENBQW5CO0FBQ0FKLElBQUFBLG1CQUFtQixDQUFDSSxPQUFELEVBQVUsY0FBVixDQUFuQjs7QUFFQSxRQUFJTixLQUFLLENBQUNtQyxVQUFOLENBQWlCRCxJQUFqQixLQUNGbEMsS0FBSyxDQUFDb0MsYUFBTixDQUFvQkYsSUFBcEIsQ0FERSxJQUVGbEMsS0FBSyxDQUFDcUMsUUFBTixDQUFlSCxJQUFmLENBRkUsSUFHRmxDLEtBQUssQ0FBQ3NDLFFBQU4sQ0FBZUosSUFBZixDQUhFLElBSUZsQyxLQUFLLENBQUN1QyxNQUFOLENBQWFMLElBQWIsQ0FKRSxJQUtGbEMsS0FBSyxDQUFDd0MsTUFBTixDQUFhTixJQUFiLENBTEYsRUFNRTtBQUNBLGFBQU9BLElBQVA7QUFDRDs7QUFDRCxRQUFJbEMsS0FBSyxDQUFDeUMsaUJBQU4sQ0FBd0JQLElBQXhCLENBQUosRUFBbUM7QUFDakMsYUFBT0EsSUFBSSxDQUFDUSxNQUFaO0FBQ0Q7O0FBQ0QsUUFBSTFDLEtBQUssQ0FBQzJDLGlCQUFOLENBQXdCVCxJQUF4QixDQUFKLEVBQW1DO0FBQ2pDN0IsTUFBQUEscUJBQXFCLENBQUNDLE9BQUQsRUFBVSxpREFBVixDQUFyQjtBQUNBLGFBQU80QixJQUFJLENBQUNuQixRQUFMLEVBQVA7QUFDRDs7QUFDRCxRQUFJZixLQUFLLENBQUM0QyxRQUFOLENBQWVWLElBQWYsS0FBeUI1QixPQUFPLElBQUlBLE9BQU8sQ0FBQyxjQUFELENBQVAsS0FBNEIsa0JBQXBFLEVBQXlGO0FBQ3ZGRCxNQUFBQSxxQkFBcUIsQ0FBQ0MsT0FBRCxFQUFVLGtCQUFWLENBQXJCO0FBQ0EsYUFBT1csZUFBZSxDQUFDaUIsSUFBRCxDQUF0QjtBQUNEOztBQUNELFdBQU9BLElBQVA7QUFDRCxHQXpCaUIsQ0FWTDtBQXFDYlcsRUFBQUEsaUJBQWlCLEVBQUUsQ0FBQyxTQUFTQSxpQkFBVCxDQUEyQlgsSUFBM0IsRUFBaUM7QUFDbkQsUUFBSUwsWUFBWSxHQUFHLEtBQUtBLFlBQUwsSUFBcUJELFFBQVEsQ0FBQ0MsWUFBakQ7QUFDQSxRQUFJQyxpQkFBaUIsR0FBR0QsWUFBWSxJQUFJQSxZQUFZLENBQUNDLGlCQUFyRDtBQUNBLFFBQUlDLGlCQUFpQixHQUFHRixZQUFZLElBQUlBLFlBQVksQ0FBQ0UsaUJBQXJEO0FBQ0EsUUFBSWUsaUJBQWlCLEdBQUcsQ0FBQ2hCLGlCQUFELElBQXNCLEtBQUtpQixZQUFMLEtBQXNCLE1BQXBFOztBQUVBLFFBQUlELGlCQUFpQixJQUFLZixpQkFBaUIsSUFBSS9CLEtBQUssQ0FBQ3FCLFFBQU4sQ0FBZWEsSUFBZixDQUFyQixJQUE2Q0EsSUFBSSxDQUFDYyxNQUE1RSxFQUFxRjtBQUNuRixVQUFJO0FBQ0YsZUFBTzFCLElBQUksQ0FBQ0MsS0FBTCxDQUFXVyxJQUFYLENBQVA7QUFDRCxPQUZELENBRUUsT0FBT1QsQ0FBUCxFQUFVO0FBQ1YsWUFBSXFCLGlCQUFKLEVBQXVCO0FBQ3JCLGNBQUlyQixDQUFDLENBQUNDLElBQUYsS0FBVyxhQUFmLEVBQThCO0FBQzVCLGtCQUFNdkIsWUFBWSxDQUFDc0IsQ0FBRCxFQUFJLElBQUosRUFBVSxjQUFWLENBQWxCO0FBQ0Q7O0FBQ0QsZ0JBQU1BLENBQU47QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsV0FBT1MsSUFBUDtBQUNELEdBcEJrQixDQXJDTjtBQStEYmUsRUFBQUEsT0FBTyxFQUFFLENBL0RJO0FBaUViQyxFQUFBQSxjQUFjLEVBQUUsWUFqRUg7QUFrRWJDLEVBQUFBLGNBQWMsRUFBRSxjQWxFSDtBQW9FYkMsRUFBQUEsZ0JBQWdCLEVBQUUsQ0FBQyxDQXBFTjtBQXFFYkMsRUFBQUEsYUFBYSxFQUFFLENBQUMsQ0FyRUg7QUF1RWJDLEVBQUFBLGNBQWMsRUFBRSxTQUFTQSxjQUFULENBQXdCQyxNQUF4QixFQUFnQztBQUM5QyxXQUFPQSxNQUFNLElBQUksR0FBVixJQUFpQkEsTUFBTSxHQUFHLEdBQWpDO0FBQ0QsR0F6RVk7QUEyRWJqRCxFQUFBQSxPQUFPLEVBQUU7QUFDUGtELElBQUFBLE1BQU0sRUFBRTtBQUNOLGdCQUFVO0FBREo7QUFERDtBQTNFSSxDQUFmO0FBa0ZBeEQsS0FBSyxDQUFDeUQsT0FBTixDQUFjLENBQUMsUUFBRCxFQUFXLEtBQVgsRUFBa0IsTUFBbEIsQ0FBZCxFQUF5QyxTQUFTQyxtQkFBVCxDQUE2QkMsTUFBN0IsRUFBcUM7QUFDNUUvQixFQUFBQSxRQUFRLENBQUN0QixPQUFULENBQWlCcUQsTUFBakIsSUFBMkIsRUFBM0I7QUFDRCxDQUZEO0FBSUEzRCxLQUFLLENBQUN5RCxPQUFOLENBQWMsQ0FBQyxNQUFELEVBQVMsS0FBVCxFQUFnQixPQUFoQixDQUFkLEVBQXdDLFNBQVNHLHFCQUFULENBQStCRCxNQUEvQixFQUF1QztBQUM3RS9CLEVBQUFBLFFBQVEsQ0FBQ3RCLE9BQVQsQ0FBaUJxRCxNQUFqQixJQUEyQjNELEtBQUssQ0FBQzZELEtBQU4sQ0FBWXpELG9CQUFaLENBQTNCO0FBQ0QsQ0FGRDtBQUlBMEQsTUFBTSxDQUFDQyxPQUFQLEdBQWlCbkMsUUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gcmVxdWlyZSgnLi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUnKTtcbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2NvcmUvZW5oYW5jZUVycm9yJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbnZhciBkZWZhdWx0cyA9IHtcblxuICB0cmFuc2l0aW9uYWw6IHtcbiAgICBzaWxlbnRKU09OUGFyc2luZzogdHJ1ZSxcbiAgICBmb3JjZWRKU09OUGFyc2luZzogdHJ1ZSxcbiAgICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxuICB9LFxuXG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0FjY2VwdCcpO1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuXG4gICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Jyk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNPYmplY3QoZGF0YSkgfHwgKGhlYWRlcnMgJiYgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPT09ICdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVNhZmVseShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIHZhciB0cmFuc2l0aW9uYWwgPSB0aGlzLnRyYW5zaXRpb25hbCB8fCBkZWZhdWx0cy50cmFuc2l0aW9uYWw7XG4gICAgdmFyIHNpbGVudEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5zaWxlbnRKU09OUGFyc2luZztcbiAgICB2YXIgZm9yY2VkSlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLmZvcmNlZEpTT05QYXJzaW5nO1xuICAgIHZhciBzdHJpY3RKU09OUGFyc2luZyA9ICFzaWxlbnRKU09OUGFyc2luZyAmJiB0aGlzLnJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nO1xuXG4gICAgaWYgKHN0cmljdEpTT05QYXJzaW5nIHx8IChmb3JjZWRKU09OUGFyc2luZyAmJiB1dGlscy5pc1N0cmluZyhkYXRhKSAmJiBkYXRhLmxlbmd0aCkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBlbmhhbmNlRXJyb3IoZSwgdGhpcywgJ0VfSlNPTl9QQVJTRScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuICBtYXhCb2R5TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICAgIH1cbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiJdfQ==